function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var i=[],a=!0,r=!1,n=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return i}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}require([],function(){angular.module("gcc.gemini",["bc.player","gccVideos","gccAnalytics","gccCookieJar"]).factory("retrieveGuidFromIsolateVideo",[function(){return{getGuid:function(e){if(!e)return!1;var t=/(([A-Za-z]|\d)+\-([A-Za-z]|\d)+\-([A-Za-z]|\d)+\-([A-Za-z]|\d)+\-([A-Za-z]|\d)+)/.exec(e||"");if(Array.isArray(t)&&t[1])return t[1];return!1}}}]).directive("geminiPlayer",["$compile","retrieveGuidFromIsolateVideo",function(r,n){return{restrict:"A",replace:"false",scope:!0,controller:"gccVideoPlayerCtrl",link:function(e,t,i){i.videoGuid=i.videoGuid?i.videoGuid:n.getGuid(t.context.innerHTML),i.flag=i.flag?i.flag:"",i.singleLineOverlay=i.singleLineOverlay?i.singleLineOverlay:"",i.minimizeOnEnded="true",i.showPlayButtonOnEnded="true",i.minimizeOnEnded=void 0===t[0].attributes["data-minimize-on-ended"]?"true":t[0].attributes["data-minimize-on-ended"].nodeValue,i.showPlayButtonOnEnded=void 0===t[0].attributes["data-show-play-button-on-ended"]?"true":t[0].attributes["data-show-play-button-on-ended"].nodeValue,"undefined"===_typeof(t.attr("data-theatre-mode-on-play"))&&t.attr("data-theatre-mode-on-play","true"),e.preload=i.preload||"none";var a='<div class="outer"><video id="'.concat(i.geminiPlayer,'"  data-account="').concat(gcc.settings.video.brightcove.accountId,'" data-player="').concat(gcc.settings.video.brightcove.playerId,'" data-flag-label="').concat(i.flag,'" data-single-line-overlay="').concat(i.singleLineOverlay,'" data-scguid="').concat(i.videoGuid,'" data-embed="default" class="video-js" data-minimize-on-ended="').concat(i.minimizeOnEnded,'" data-show-play-button-on-ended="').concat(i.showPlayButtonOnEnded,'" controls></video></div>');i.overlayjsobject&&(e.overlayjsobject=i.overlayjsobject),i.flag&&(e.flag=i.flag),i.singleLineOverlay&&(e.singleLineOverlay=i.singleLineOverlay),i.minimizeOnEnded&&(e.minimizeOnEnded=i.minimizeOnEnded),i.showPlayButtonOnEnded&&(e.showPlayButtonOnEnded=i.showPlayButtonOnEnded),t.html(a),r(t.contents())(e),e.initPlayer(i.geminiPlayer)}}}]).directive("isolateVideo",["GccVideoFactory","gccSetCurrentVideo","retrieveGuidFromIsolateVideo",function(n,o,c){return{restrict:"A",replace:"false",scope:!1,link:function(e,t,i){var a=c.getGuid(i.isolateVideo);a&&o.setCurrentVideo(a),i.url=i.isolateVideo,i.tripPageGuid=i.tripContext;var r=new(n.Video())(i);e.cueVideo=r}}}]).controller("controller1",[function(){return{}}]).controller("gccVideoPlayerCtrl",["$scope","bcPlayerService","GccVideoResolver","$interval","GccAnalyticsService","GccWatchedVideos","gccVideoRatingService",function(s,t,r,n,l,d,u){var p=this;function g(e,t){p.objectsWaitingForOnAvailability.push({first:e,second:t}),i()}function f(e,t){p.objectsWaitingForOffAvailability.push({first:e,second:t}),a()}function i(e){if(0<p.objectsWaitingForOnAvailability.length&&(e||s.isInitialized))for(var t=p.objectsWaitingForOnAvailability.shift();t;)$(p.gccWrappedPlayer.eventElement).on(t.first,t.second),t=0<p.objectsWaitingForOnAvailability.length?p.objectsWaitingForOnAvailability.shift():null}function a(e){if(0<p.objectsWaitingForOffAvailability.length&&(e||s.isInitialized))for(var t=p.objectsWaitingForOffAvailability.shift();t;)$(p.gccWrappedPlayer.eventElement).off(t.first,t.second),t=0<p.objectsWaitingForOffAvailability.length?p.objectsWaitingForOffAvailability.shift():null}function v(t,e){for(;!s.isInitialized;)var i=n(function(){s.isInitialized&&n.cancel(i)},250);var a=e||o(t);r.resolveVideo(t).then(function(e){p.overlayinitialized=!1,p.gccWrappedPlayer.cue(e,a).then(function(){s.currentVideo=t},function(e){throw e})})}p.objectsWaitingForOnAvailability=[],p.objectsWaitingForOffAvailability=[],p.gccWrappedPlayer=null,p.overlayinitialized=!1,s.play=function(){for(;!s.isInitialized;)var e=n(function(){s.isInitialized&&n.cancel(e)},250);p.gccWrappedPlayer.play()},s.pause=function(){for(;!s.isInitialized;)var e=n(function(){s.isInitialized&&n.cancel(e)},250);p.gccWrappedPlayer.pause()},s.cue=v,s.overlay=function(e){p.gccWrappedPlayer.registerOverlay(e)},s.isInitialized=!1,s.isInitializing=!1,s.playButtonSpinnerShowHide=function(e,t){p.gccWrappedPlayer.playButtonSpinnerShowHide(e,t)},s.sendAutoplay=function(){var e=p.gccWrappedPlayer.getArgs();l.trackVideo("autoplay",e)},s.setLoading=function(){p.gccWrappedPlayer.setLoading(!0)},s.resetCurrentTime=function(){p.gccWrappedPlayer.resetCurrentTime(!1)},s.on=g,s.off=f,s.initPlayer=function(e){s.gcpid=e,s.isInitialized||s.isInitializing||(s.isInitializing=!0,t.waitForThirdPartyPlayerToBeReady(s.gcpid).then(function(e){(p.gccWrappedPlayer=e,c(p.gccWrappedPlayer.eventElement),s.isInitialized=!0,s.cueVideo)&&(v(s.cueVideo),s.cueVideo=null);a(!0),i(!0),s.isInitializing=!1},function(e){throw new Error(e)}))},s.$watch("cueVideo",function(){s.isInitialized&&!p.isInitializing&&s.cueVideo&&(v(s.cueVideo),s.cueVideo=null)});var o=function(e){var t={};return t.autoplay=!!e.autoplay()&&e.autoplay(),t};var c=function(e){function t(e){null!=s.overlayjsobject&&0<s.overlayjsobject.length&&0==p.overlayinitialized&&gcc&&gcc.settings&&gcc.settings.video&&gcc.settings.video.overlays&&gcc.settings.video.overlays[s.overlayjsobject.toLowerCase()]&&(p.gccWrappedPlayer.registerOverlay({content:gcc.settings.video.overlays[s.overlayjsobject.toLowerCase()].content,overlays:gcc.settings.video.overlays[s.overlayjsobject.toLowerCase()].overlays}),p.overlayinitialized=!0)}function i(){v(s.currentVideo,{autoplay:!0})}function a(e,t){l.trackVideo("start",t),u.addViewCount(t.vguid.replace("{","").replace("}",""))}function r(e,t){l.trackVideo("autoplay",t)}function n(e,t){l.trackVideo("complete",t)}function o(e,t){l.trackVideo("humanpause",t)}function c(e,t){l.trackVideo("timeviewed",t),1==t.intervalReached&&60==t.secondsReached&&d.watchVideo(t.vguid).then(function(){$(p.gccWrappedPlayer.eventElement).trigger("videowatched",t)}).catch(function(e){})}f("gccstart",a),f("gcccomplete",n),f("gcchumanpause",o),f("gcctimeInterval",c),f("gccautoplay",r),f("gccmetadataloaded",t),f("gccreqcuepersonalized",i),g("gccstart",a),g("gcccomplete",n),g("gcchumanpause",o),g("gcctimeInterval",c),g("gccautoplay",r),g("gccmetadataloaded",t),g("gccreqcuepersonalized",i)}}]).factory("GccWatchedVideos",["$q","$http","GccCookieJar",function(n,o,c){var s="gcc-myvideos-watched",l="/api/video";function d(){return gcc&&gcc.trip&&gcc.trip.code?gcc.trip.code.toLowerCase():""}function a(){var e,t=c.get(s);return t&&(e=t.split(",")),e}return function(){if(void 0!==(a=c.get(s)))return;var e=c.get(),t=[];for(var i in e)if(0==i.indexOf("gcc-myvideos-watched-")){var a=c.get(i);a&&(guidArray=a.split(","),t=t.concat(guidArray),c.toss(i))}r=t,t=$.grep(r,function(e,t){return t===$.inArray(e,r)}),a=t.join(","),c.put({name:s,value:a,expires:365});var r}(),{watchVideo:function(t){var i=n.defer();if(gcc.profile.anonymous){var e=c.get(s);if(void 0===e)e=t;else{var a=e.split(","),r=a.indexOf(t);-1<r&&a.splice(r,1),a.unshift(t),e=a.join(",")}c.put({name:s,value:e,expires:365}),i.resolve()}else o({method:"GET",url:l+"/watch-video",params:{tripCode:d(),vguid:t}}).then(function(e){i.resolve()}).catch(function(e){console.error('gccWatchedVideos.watchVideo("'+t+'") - error in calling back-end endpoint - '+e.config.method+" "+e.config.url+" responded with status "+e.status+" "+e.statusText),i.reject("error "+e.status+" "+e.statusText)});return $(document).find(".icon-video-flag--new").each(function(){$(this).attr("data-guid").toLowerCase()===t.toLowerCase()&&($(this).is("img")?$(this).css("display","none"):$(this).is("div")&&$(this).removeClass("icon-video-flag--new"))}),i.promise},isVideoWatched:function(t){var i=n.defer();if(gcc.profile.anonymous){var e=a();e&&0<=e.indexOf(t)?i.resolve(!0):i.resolve(!1)}else o({method:"GET",url:l+"/is-video-watched",params:{tripCode:d(),vguid:t}}).then(function(e){i.resolve("true"===e.data)}).catch(function(e){console.error('gccWatchedVideos.isVideoWatched("'+t+'") - error in calling back-end endpoint - '+e.config.method+" "+e.config.url+" responded with status "+e.status+" "+e.statusText),i.resolve(!1)});return i.promise},getWatchedVideos:function(){var t=n.defer();if(gcc.profile.anonymous){var e=a();t.resolve(e)}else o({method:"GET",url:l+"/get-watched-videos",params:{tripCode:d()}}).then(function(e){t.resolve(e.data)}).catch(function(e){console.error("gccWatchedVideos.getWatchedVideos - error in calling back-end endpoint - "+e.config.method+" "+e.config.url+" responded with status "+e.status+" "+e.statusText),t.reject("error "+e.status+" "+e.statusText)});return t.promise}}}]).factory("GccVideoResolver",["$q","$http","GccVideoService",function(e,t,a){return{resolveVideo:function(t){var i=e.defer();t.srcUrl()&&t.url(t.srcUrl());t.srcUrl(t.url()),t.personalized()?a.resolveExternalVideo(t).then(function(e){t.url(e.url),t.mimetype(e.mimetype),i.resolve(t)},function(e){throw i.reject(e),new Error(e)}):t.isInternalUrl()?a.resolveInternalVideo(t).then(function(e){t=t.makeVideo(e),e.Trip&&(t.tripCode(e.Trip.Code),t.tripYear(e.Trip.Year)),t.interest(e.Interest),t.vpvDescription(e.VpvDescription),t.videoSequence(e.VideoSequence),t.videoPersonalization(e.VideoPersonalization),t.tripBrand(e.TripBrand),i.resolve(t)},function(e){throw i.reject(i),new Error(e)}):i.resolve(t);return i.promise}}}]).factory("gccVideoPlayerCtrlFactory",["$q","$interval","vjs",function(t,e,n){return{getGccVideoPlayerCtrl:function(e){var i=t.defer(),a=e.player,r=document.getElementById(a);r&&n.getVjs().then(function(t){setTimeout(function(){var e=t(a,{techOrder:["html5"]});e.ready(function(){r=document.getElementById(a);var e=angular.element(r).scope();i.resolve(e)})},500)},function(e){i.reject()});return i.promise}}}]).factory("gccSetCurrentVideo",["$http",function(e){return{setCurrentVideo:function(i){if(window.gcc.videosOnPage=window.gcc.videosOnPage||[],"undefined"!=typeof gccvideos){var a=!1;$.each(gccvideos,function(e,t){if("undefined"!==t.ApiVideo&&t.Url.toLowerCase().includes(i.toLowerCase()))return a=!0,r(i,t.ApiVideo.VideoType,t.ApiVideo.Name),!1}),a||r(i,"empty","empty")}else e({method:"GET",url:"/api/video/fetch/"+i}).success(function(e){r(i,e.VideoType,e.Name)}).error(function(){r(i,"empty","empty")})}};function r(e,t,i){window.gcc.videosOnPage.push({guid:e,videoType:t,videoName:i})}}]).directive("swapVideo",["gccVideoPlayerCtrlFactory","gccSetCurrentVideo",function(r,n){return{restrict:"A",replace:"false",controller:"swapVideoCtrl",scope:{player:"@swapVideo",guid:"@guid",videoUrl:"@videoUrl",autoplay:"@autoplay",tripPageGuid:"@tripContext"},link:function(i,e,t,a){(e.is("a")||e.is("button"))&&(n.setCurrentVideo(i.guid),e.on("click",function(e){var t=angular.element($("#"+i.player));if(gcc=gcc||{},gcc.populateEvar61="","vpvDescription"in e.currentTarget.dataset&&(gcc.populateEvar61=e.currentTarget.dataset.vpvDescription),t.scope().setLoading(),t.scope().resetCurrentTime(),!i.player)throw"swapVideo Error:  data-player attribute cannot be empty";r.getGccVideoPlayerCtrl(i).then(function(){var e=!0;if(e="true"==(i.autoplay?i.autoplay:"true"),i.guid)a.swapVideoByGuid(i.guid,{autoplay:e},t,i.tripPageGuid,i.singleLineOverlay);else{if(!i.videoUrl)throw"swapVideo Error: data-url or data-guid is required.  Please specify one of these attributes";a.swapVideo(i.videoUrl,{autoplay:e},t,i.tripPageGuid,i.singleLineOverlay)}})}))}}}]).controller("swapVideoCtrl",["$scope","GccVideoFactory",function(e,n){function o(e,t,i,a){t=t||{},i.scope().setLoading();var r=new(n.Video())(angular.fromJson(e));a&&r.tripPageGuid(a),i.scope().cue(r,t)}this.geminiPlayerOverlay=function(e,t){null!=e&&t.scope().overlay({content:e.content,overlays:e.overlays})},this.swapVideoByGuid=function(e,t,i,a){var r='{"url" : "gcc://videos/guid"}'.replace("guid",e);$("#video-gallery-player").attr("data-scguid",e);var n=$("#video-gallery-player-wrapper").find("[gemini-player='video-gallery-player']");void 0!==n&&n.attr("data-video-guid",e);o(r,t,i,a)},this.swapVideo=o}]).factory("gccVideoRatingService",["$q","$http","GccCookieJar","GccAnalyticsService",function(c,s,e,l){var d="/api/video";function u(e){return gcc.trip.videogallery.videos[e]}function p(){return gcc&&gcc.trip&&gcc.trip.code?gcc.trip.code.toLowerCase():""}function g(){return gcc&&gcc.trip&&gcc.trip.year?gcc.trip.year:""}function f(e,t,i){var a=u(e);a&&t&&(t.find(".like-count").text(a.likeCount),t.find(".dislike-count").text(a.dislikeCount),t.find(".like-icon, .dislike-icon").removeClass("active"),1===a.rating&&t.find(".like-icon").addClass("active"),-1===a.rating&&t.find(".dislike-icon").addClass("active"),r())}function r(){if("object"===("undefined"==typeof gcc?"undefined":_typeof(gcc))&&"boolean"==typeof gcc.displayRateVideoOnOverlay){var e=document.querySelectorAll(".js-overlay-ratings .overlay-like-icon,.js-overlay-ratings .overlay-dislike-icon");gcc.displayRateVideoOnOverlay?(document.querySelector(".js-overlay-ratings").classList.remove("hideit"),e.forEach(function(e){e.classList.add("active")})):(document.querySelector(".js-overlay-ratings").classList.add("hideit"),e.forEach(function(e){e.classList.add("active")}))}}var v=!1;return{refreshRatingDisplay:f,refreshOverlayRatingDisplay:r,clickhandler:function(e,t,i){if(!v){v=!0;var a,r,n,o=u(t);switch(e){case"like":switch(o.rating){case 1:o.likeCount--,o.rating=0,a="del_like";break;case-1:o.dislikeCount--,o.likeCount++,o.rating=1,a="ch2_like";break;default:o.likeCount++,o.rating=1,a="add_like"}break;case"dislike":switch(o.rating){case-1:o.dislikeCount--,o.rating=0,a="del_dislike";break;case 1:o.likeCount--,o.dislikeCount++,o.rating=-1,a="ch2_dislike";break;default:o.dislikeCount++,o.rating=-1,a="add_dislike"}}f(t,i),r=o,n=c.defer(),s({method:"GET",url:d+"/rate-video",params:{vguid:r.vguid,tripCode:p(),tripYear:g(),rating:r.rating}}).then(function(e){n.resolve()}).catch(function(e){console.error('gccVideoRatingService.sendRatingToBackEnd("'+r.vguid+'", '+r.rating+") - error in calling back-end endpoint - "+e.config.method+" "+e.config.url+" responded with status "+e.status+" "+e.statusText),n.reject("error "+e.status+" "+e.statusText)}).finally(function(){v=!1}),n.promise,l.trackVideo("videoRating",{action:a,video:o})}},addViewCount:function(e){var t,i,a=function(e){var t=-1;if(gcc&&gcc.trip&&gcc.trip.videogallery&&gcc.trip.videogallery.videos)for(var i=0;i<gcc.trip.videogallery.videos.length;i++)if(gcc.trip.videogallery.videos[i].vguid==e){t=i;break}return t}(e);if(0<=a){var r=$("#rate-video");r&&f(a,r)}t=e,i=c.defer(),s({method:"GET",url:d+"/add-video-view",params:{vguid:t,tripCode:p(),tripYear:g()}}).then(function(e){i.resolve()}).catch(function(e){console.error('gccVideoRatingService.sendViewToBackEnd("'+t+'") - error in calling back-end endpoint - '+e.config.method+" "+e.config.url+" responded with status "+e.status+" "+e.statusText),i.reject("error "+e.status+" "+e.statusText)}),i.promise}}}]).directive("gccVideoRating",["gccVideoRatingService","$compile",function(r,n){return{scope:{videoIndex:"@gccVideoRating"},link:function(t,i,e){var a="";gcc.trip.videogallery.videos[t.videoIndex].displayRatings?a+='<span data-automation="video-rating-wrapper">'+gcc.trip.videogallery.videoRatingText+'</span><i class="like-icon push-r--icon icon-thumbs-up rate-icon coh fa player-community-icons" aria-hidden="true" data-automation="video-rating-upvote-icon"></i><span class="like-count" data-automation="video-rating-upvote-count"></span><i class="dislike-icon push-r--icon icon-thumbs-down rate-icon push-sm coh fa player-community-icons fa-flip-horizontal" aria-hidden="true" data-automation="video-rating-downvote-icon"></i><span class="dislike-count" data-automation="video-rating-downvote-count"></span>':a+='<div style="width: 200px; height: 27px"></div>',i.html(a),n(i.contents())(t),r.refreshRatingDisplay(t.videoIndex,i),i.find(".like-icon").off("click").on("click",function(e){r.clickhandler("like",t.videoIndex,i),$(this).addClass("duplicate-event")}),i.find(".dislike-icon").off("click").on("click",function(e){r.clickhandler("dislike",t.videoIndex,i),$(this).addClass("duplicate-event")})}}}])}),define("Video/components/GccGeminiAngular",function(){}),define("Video/components/GccVideosAngular",[],function(){angular.module("gccVideos",[]).provider("GccVideos",[function(){function a(e,t,i){var a=i.path();function r(){var e=t.get("gcc-videos-watched");void 0===e?t.put({name:"gcc-videos-watched",value:[],path:a}):e.length?e.split(","):[]}r(),this.watch=function(t){e({method:"POST",url:a+"/videos/watched",data:{VideoGuid:t}}).success(function(e){console.log("GccVideos.watched("+t+"): Success: ",e)}).error(function(e){throw new Error("GccVideos.watch("+t+"): "+e)})},this.watched=function(){return t.get("gcc-videos-watched")},this.forget=function(){return t.toss("gcc-videos-watched")+r()}}this.$get=["$http","GccCookieJar","$captain",function(e,t,i){return new a(e,t,i)}]}]).factory("GccVideoFactory",["$q","GccUtils",function(e,t){var i=[],a={};function r(e){if(e instanceof r)return e;this.mimetype(t.isSafari()?"application/x-mpegURL":e.mimetype||e.Mimetype||"video/x-flv"),this.still(e.still||e.Still||null),this.priority(i.length),this.tmpPriority(this.priority()),this._vid=Math.floor(1e6*Math.random()),this._vguid=e.guid||e.Id||"",this._tripPageGuid=e.tripPageGuid,this._caption=e.videoCaption||e.Description||"video.videoCaption",this._title=e.title||e.Title||"video.videoTitle",this._personalized=!!e.personalized&&"true"==e.personalized.toLowerCase(),this.image(e.image||"video.image"),this._url=e.url||e.Url||"video.url",this._thumbnail=e.thumbnail||"video.thumbnail",this._isnew=!!e.isnew&&"true"==e.isnew.toLowerCase(),this._tripCode=e.tripcode||"",this._tripYear=e.tripyear||"",this.name(e.name||e.Name||""),this._autoplay=!!e.autoplay&&"true"==e.autoplay.toLowerCase(),this._videoType=e.videoType||e.VideoType||"",this._autoPlayNextVideo=e.autoplaynextvideo||"",this._srcUrl="",this._watched=!1,this._interest=e.interest||"",this._vpvDescription=e.vpvDescription||"",this._tripBrand=e.tripBrand||"",this._destinationPage=e.destinationPage,this._videoSequence=e.videoSequence||"",this._videoPersonalization=e.videoPersonalization||""}a.getVideos=function(){return i},a.setVideos=function(e){i=e},a.addVideo=function(e){var t=new r(e);return t.caption(t.caption().replace("<p>","")),t.caption(t.caption().replace("</p>","")),t.caption(t.caption().replace("<br />","")),i.push(t),t},a.Video=function(){return r};var n=r.prototype;return n.watched=function(e){if(!arguments.length)return this._watched;this._watched=e},n.autoplayNextVideo=function(){return!!this._autoPlayNextVideo&&"true"==this._autoPlayNextVideo.toLowerCase()},n.mutate=function(e){return JSON.parse(e)},n.getProvider=function(){return this._provider},n.isInternalUrl=function(){return-1<this.url().indexOf("gcc://")},n.makeVideo=function(e){return new r(e)},n.getImage=function(){return this._image},n.still=function(e){if(!arguments.length)return this._still;this._still=e},n.srcUrl=function(e){if(!arguments.length)return this._srcUrl;this._srcUrl=e},n.autoplay=function(e){if(!arguments.length)return this._autoplay;this._autoplay=e},n.mimetype=function(e){if(!arguments.length)return this._mimetype;this._mimetype=e},n.priority=function(e){if(!arguments.length)return this._priority;this._priority=e},n.tmpPriority=function(e){if(!arguments.length)return this._tmpPriority;this._tmpPriority=e},n.vguid=function(e){if(!(0<arguments.length))return this._vguid;this._vguid=e},n.tripPageGuid=function(e){if(!(0<arguments.length))return this._tripPageGuid;this._tripPageGuid=e},n.videoType=function(e){if(!(0<arguments.length))return this._videoType;this._videoType=e},n.provider=function(){return this.personalized()?"/Scripts/modules/jwplayer/SundayskyMediaProvider.swf":"video"},n.evar53=function(){return this.name()},n.evar55=function(){var e="";return this.isCompassLight()?e="Compass Light":this.isSundaySky()?(e="Sunday Sky",this.personalized()&&(e+=" Personalized")):e=this.videoType(),e},n.isSundaySky=function(){return-1<this.videoType().indexOf("sunday-sky")},n.isCompassLight=function(){return-1<this.videoType().indexOf("impressions-trip")},n.caption=function(e){if(!(0<arguments.length))return this._caption;this._caption=e},n.title=function(e){if(!(0<arguments.length))return this._title;this._title=e},n.personalized=function(e){if(!(0<arguments.length))return this._personalized;this._personalized=e},n.tripCode=function(e){if(!(0<arguments.length))return this._tripCode;this._tripCode=e},n.tripYear=function(e){if(!(0<arguments.length))return this._tripYear;this._tripYear=e},n.name=function(e){if(!(0<arguments.length))return this._name;this._name=e},n.vid=function(e){if(!(0<arguments.length))return this._vid;this._vid=e},n.image=function(e){if(!(0<arguments.length))return this._image;this._image=e},n.url=function(e){if(!(0<arguments.length))return this._url;this._url=e},n.thumbnail=function(e){if(!(0<arguments.length))return this._thumbnail;this._thumbnail=e},n.isnew=function(e){if(!(0<arguments.length))return this._isnew;this._isnew=e},n.tripBrand=function(e){if(!(0<arguments.length))return this._tripBrand;this._tripBrand=e},n.interest=function(e){if(!(0<arguments.length))return this._interest;this._interest=e},n.evar24=function(){return this.interest()},n.vpvDescription=function(e){if(!(0<arguments.length))return this._vpvDescription;this._vpvDescription=e},n.evar61=function(){return this.vpvDescription()},n.videoPersonalization=function(e){if(!(0<arguments.length))return this._videoPersonalization;this._videoPersonalization=e},n.evar82=function(){return this.videoPersonalization()},n.videoSequence=function(e){if(!(0<arguments.length))return this._videoSequence;this._videoSequence=e},n.evar83=function(){return this.videoSequence()},n.destinationPage=function(e){if(!(0<arguments.length))return this._destinationPage;this._destinationPage=e},a}]).service("GccUtils",["$window",function(e){var t={isIpad:function(){return e.navigator.userAgent.match(/ipad|ipad simulator/gi)},isIos:function(){return e.navigator.userAgent.match(/ipad|iphone|ipod|ipad simulator/gi)},isSafari:function(){return e.navigator.userAgent.match(/^((?!chrome).)*safari/gi)}};return t}]).service("GccVideoService",["$q","$http","GccVideoFactory",function(c,e,t){var r=HttpCache.getCache("videoFetch",1e3,7200,!1,!0,!1);"undefined"!=typeof gccvideos&&$.each(gccvideos,function(e,t){var i="object"===_typeof(t.ApiVideo)?JSON.stringify(t.ApiVideo):t.ApiVideo+"",a=new HttpCacheEntry(t.Url,i,7200,!1,!0,!1);r.update(a,!0)});var n={};return n.getVideos=t.getVideos,n.setVideos=t.setVideos,n.addVideo=t.addVideo,n.getVideoByVid=function(e){for(var t=n.getVideos(),i=t.length,a=0;a<i;a++)if(t[a].vid()==e)return t[a]},n.queueVideo=function(e){for(var t=n.getVideos(),a=t.length-1;0<=a;a--)if(t[i].vid()==e){i;break}t=t.splice(a,t.length-a).concat(t),n.setVideos(t)},n.allVideosWatched=function(){for(var e=n.getVideos(),t=e.length,i=0;i<t;i++)if(!e[i].watched())return!1;return!0},n.getVidOfNextUnwatched=function(){for(var e=n.getVideos(),t=e.length,i=0;i<t;i++)if(!e[i].watched())return e[i].vid();return!0},n.resolveExternalVideo=function(e){var t=c.defer(),i={url:e.url(),mimetype:e.mimetype()};e.personalized()?$.ajax({url:e.url(),type:"GET",cache:!1}).done(function(e){i.url=e.url,i.mimetype=e.mimetype,t.resolve(i)}):t.resolve(i);return t.promise},n.resolveInternalVideo=function(e){var t=c.defer(),i=e.url().replace("gcc://videos/",""),a="?";e.tripPageGuid()&&(a+="contentPageId="+e.tripPageGuid()+"&");e.destinationPage()&&(a+="destinationPageId="+e.destinationPage());var r=e.vpvDescription()||"",n=e.videoPersonalization()||"",o=e.videoSequence()||"";return HttpCache.getCache("videoFetch").get("/api/video/fetch/"+i+a,function(e){e?((e=JSON.parse(e)).VpvDescription=r,e.VideoPersonalization=n,e.VideoSequence=o,t.resolve(e)):t.reject("resolveInternalVideo: Could not fetch video "+i)},function(e){throw t.reject(e),new Error(e)}),t.promise},n}]).factory("gccVideoPlugins",[function(){var e={load:function(e){}};return e}])}),define("Video/components/BcPlayer",[],function(){return{pausePlayersInContainer:function(e){e&&"undefined"!=typeof videojs&&videojs.players&&$(e).find("div.video-js").each(function(e,t){videojs.players[t.id]&&!videojs.players[t.id].paused()&&videojs.players[t.id].pause()})},pauseOtherPlayers:function(e){if("undefined"!=typeof videojs&&videojs.players){var i=e;$(".video-js").each(function(e,t){videojs.players[t.id]&&!videojs.players[t.id].paused()&&t.id!=i&&videojs.players[t.id].pause()})}}}}),define("Video/components/BcPlayerWrapped",["Video/components/BcPlayer"],function(H){return{bcPlayerWrapped:function(i){var e={play:function(){w.play(),f()},pause:function(){w.pause()},cue:function(e,t){var i,a,r=$.Deferred();try{sessionStorage.getItem("autoplay")&&(t.autoplay=!0),u=t.autoplay,i=e,a=t,S||E(),A=i,O=a,L(),N(0,1),function(i){var e=i.url(),t=e.match(/[a-z]*:\/\//g);switch(t&&(t=t[0]),t){case"gcc://":case"https://":case"http://":w.poster(i.still());try{w.src({src:i.url(),type:i.mimetype()})}catch(e){w.src({src:i.url(),type:i.mimetype()})}O.autoplay?(w.load(),gcc.engageFullscreenPlay(w)):i.personalized()&&w.load();break;case"bc://":var a=e.match(/([0-9]+)/g)[0];a=parseInt(a,10),w.catalog.getVideo(a,function(e,t){try{w.catalog.load(t)}catch(e){w.catalog.load(t)}w.poster(i.still()),O.autoplay&&gcc.engageFullscreenPlay(w)});break;default:throw new Error("Unrecognized protocol: "+t)}}(e),function(e){if(1==w.loadedmetadata)try{w.currentTime(0)}catch(e){console.log(e)}L(),u&&A.personalized()&&!navigator.userAgent.match(/ipad|iphone|ipod|ipad simulator/gi)||N(1,0),$(w.el()).trigger("gcccued",x())}(),r.resolve()}catch(e){r.reject(e)}return r.promise()},registerOverlay:function(e){var t=w.duration();if(null!=t&&null!=e.overlays)for(var i=0;i<e.overlays.length;i++)e.overlays[i].start=!isNaN(e.overlays[i].start)&&e.overlays[i].start<0?t+e.overlays[i].start:e.overlays[i].start,e.overlays[i].end=!isNaN(e.overlays[i].end)&&e.overlays[i].end<=0?t- -1*e.overlays[i].end:e.overlays[i].end;w.overlay(e)}};e.playButtonSpinnerShowHide=N,e.getArgs=x,e.eventElement=i.el(),e.setLoading=v,e.resetCurrentTime=function(){g=0};var a,r,b,w=i,n=null,T=null,C=null,t=!1,o=!1,P=null,_=9e5,A=null,O=null,S=!1,D=!1,c=0,s=0,l=0,d=60,u=!1,p=!1,g=0;var f=function(){alert("incrementCount")};function v(e){p=!!e}function L(e){if(1==w.loadedmetadata)try{w.currentTime(0)}catch(e){console.log(e)}D=!1,e=e||!1,l=s=c=0}function x(){var e,t={};return t.currentRendition=(w.tech.hls&&w.techOrder.hls.bandwidth&&(w.src()||(e=w.tech.hls.bandwidth)),e),t.position=w.currentTime(),t.vguid=A.vguid(),t.tripCode=A.tripCode(),t.tripYear=A.tripYear(),t.name=A.name(),t.evar53=A.evar53(),t.evar55=A.evar55(),t.isSundaySky=A.isSundaySky(),t.isCompassLight=A.isCompassLight(),t.evar61=A.evar61(),t.evar24=A.evar24(),t.interest=A.interest(),t.vpvDescription=A.vpvDescription(),t.tripBrand=A.tripBrand(),t.destinationPage=A.destinationPage(),t.evar83=A.evar83(),t.videoSequence=A.videoSequence(),t.evar82=A.evar82(),t}gcc.engageFullscreenPlay=function(e){var t=window.navigator.userAgent;if(/chrome/i.test(t))e.play(),setTimeout(function(){e.paused()&&z(e.id_,!1)},250);else if(/ipad|macintosh/i.test(t))z(e.id_,!1);else{if(0<window.location.search.indexOf("vguid")){var i=$("#sliderVideoContent").position().top;window.scrollTo(0,i)}setTimeout(function(){e.play()},250)}};return t||o||(o=!0,w.off("play",B),w.off("pause",q),w.off("ended",V),w.off("loadeddata",m),w.off("loadedmetadata",I),w.off("seeking",h),w.off("timeupdate",k),w.off("waiting",j),w.off("seeked",y),w.on("play",B),w.on("pause",q),w.on("ended",V),w.on("loadeddata",m),w.on("loadedmetadata",I),w.on("seeking",h),w.on("seeked",y),w.on("timeupdate",k),w.on("waiting",j),$(window).bind("beforeunload",function(){}),$(window).on("hashchange",function(){window.location.hash}),n=$(w.el()).find(".vjs-loading-spinner"),T=$(w.el()).find(".vjs-big-play-button"),C=$(w.el()).find(".vjs-poster"),t=!(o=!1)),e;function m(e){w.paused()?N(1,0):N(0,1)}function y(e){w.paused()?N(1,0):N(0,1)}function h(e){N(0,1);var t=x();l=t.position,t.position,t.position}function k(e){parseInt(w.currentTime())>g&&(g=w.currentTime(),function(e){if(!p&&!w.seeking()){0!==i.currentTime()&&(N(-1,0),i.paused()?N(1,-1):N(0,-1));var t=x();c+=t.position-l,l=t.position,c&&Math.floor(c/d)>s&&(s+=1,t.secondsReached=d,t.intervalReached=s,$(w.el()).trigger("gcctimeInterval",t))}}())}function E(){if(c&&Math.floor(c)%d!=0||S){var e=x();e.secondsReached=Math.floor(c-s*d),e.intervalReached=s,0<e.secondsReached&&$(w.el()).trigger("gcctimeInterval",e)}}function V(e){S=!0,E();var t,i=x();w.pause(),isVideoEnded=!0,D=!1,N(1,g=l=s=c=0),$(w.el()).trigger("gcccomplete",i),C.css("display","block"),w.overlays_||T.addClass("replay"),"false"===e.target.attributes["data-show-play-button-on-ended"].nodeValue&&N(0,0),t=e.target.attributes[2].nodeValue,0<$(".videoCount_"+t).length!=0&&$(".videoCount_"+t).each(function(){$(this).data("modified",!1)});var a=this.id_;"video-gallery-player"!==a&&"true"===e.target.attributes["data-minimize-on-ended"].nodeValue&&G(a)}function I(e){var t=x();v(!1),u?(N(0,1),w.play(),sessionStorage.getItem("autoplay")&&($(w.el()).trigger("gccautoplay",t),sessionStorage.removeItem("autoplay"))):N(1,0),$(w.el()).trigger("gccmetadataloaded")}function j(e){w.currentTime(),S||w.paused()?N(1,0):N(0,1)}function N(e,t){-1!=e&&e&&!a&&T.css("display","block"),e||0==a||T.css("display","none"),-1!=t&&t&&!r&&n.css("display","block"),t||0==r||n.css("display","none"),1==e&&(a=!0),0==e&&(a=!1),1==t&&(r=!0),0==t&&(r=!1)}function R(e){if(!1!=0<$(".videoCount_"+e).length){var t=$(".videoCount_"+e).first();if(!1===$(t).data("modified")){var i=$(t).text().replace(" views","");(function t(a,i,e){$.ajax({type:"GET",url:"/api/video/getviewsbyguid/"+a+"?increment="+e,contentType:"application/json",dataType:"json",success:function(e){i<=e||t(a,i,!0)},error:function(e,t,i){console.error("could not get view counts from brightcove for video: "+a+" error:"+i)}})})(e,++i,!1),$(".videoCount_"+e).each(function(){$(this).text(i+" views"),$(this).data("modified",!0)})}}}function M(e){var t=e&&e.dataset.theatreModeOnPlay&&"true"===e.dataset.theatreModeOnPlay,i=!e.parentElement.classList.contains("js-theater-mode");return!(/iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)&&t&&i}function G(e){var t=document.querySelector('.js-theater-mode-placeholder[data-forvideo="'.concat(e,'"]'));if(t){document.body.classList.remove("noscroll");var i,a,r,n,o,c=document.querySelector('[gemini-player="'.concat(e,'"]'));i=t.parentElement.classList.contains("hidden")?(a=c.dataset.videoGuid,r=e,n=c.dataset.ribbonType,o=document.querySelector('[data-guid="'.concat(a,'"][swap-video="').concat(r,'"]')),n&&(o=document.querySelector('[data-guid="'.concat(a,'"][data-ribbon-type="').concat(n,'"][swap-video="').concat(r,'"]'))),console.log(o),o?(console.log(o.getBoundingClientRect().top-90),o.getBoundingClientRect().top-90):0):t.getBoundingClientRect().top-90,window.scrollTo(0,i),t.parentNode.insertBefore(c,t.nextSibling),document.querySelector('.js-theater-mode[data-forvideo="'.concat(e,'"]')).remove(),t.remove();var s=videojs(e);s.paused()||s.pause(),gcc.trip&&gcc.trip.videogallery.overlay.canceltime&&(clearTimeout(gcc.trip.videogallery.overlay.canceltime),gcc.trip.videogallery.overlay.canceltime=null),gcc.settings.video.overlay.canceltime&&(clearTimeout(gcc.settings.video.overlay.canceltime),gcc.settings.video.overlay.canceltime=null)}}function F(){w.pause();var e,t,i,a=(e=$(this),t=$(e).parents(".theater-mode--share").find("[gemini-player]").attr("gemini-player"),{videoGuid:(i=document.querySelector('[gemini-player="'.concat(t,'"]'))).dataset.videoGuid||"",guid:i.dataset.videoGuid||"",videoName:i.dataset.videoName||"",videoType:i.dataset.videoType||"",tripcontext:i.dataset.tripcontext||"",tripurl:i.dataset.tripUrl,geminiPlayerid:t||"",queryParams:i.dataset.queryParams||"",componentName:i.dataset.componentName||"",linkValue:i.dataset.linkValue||""});window.analyticsBridge&&window.analyticsBridge.TrackComponentClick({componentName:a.componentName||"",linkValue:"share video:btn:fullwidth player",videoGuid:a.videoGuid||"",videoName:a.videoName||"",videoType:a.videoType||""});var r=gcc.getRedirectURL(a),n="",o="",c=r+"&omtr_camp=sh:share-video:other";$.ajax({type:"POST",url:"/api/sitecore/ProductShare/ShareVideoFormIOS",async:!1,data:{vguid:a.guid},success:function(e){var t=e.VideoTitle;n=t.replace(/(<([^>]+)>)/gi,"");var i=e.VideoText;i=i.replace(/(<([^>]+)>)/gi,""),o=i+"\n\n"}});try{navigator.share({title:n,text:o,url:c})}catch(e){console.log("Error sharing: "+e)}}function U(){var e=document.querySelector(".js-theater-mode");e&&G(e.dataset.forvideo)}function z(e,t){t?(N(0,1),C.css("display","none"),T.removeClass("replay")):C.css("display","block");var i,a,r,n,o,c,s,l,d,u,p,g,f,v=x(),m=document.querySelector('[gemini-player="'.concat(e,'"]'));if(M(m)){var y=e,h=m.dataset.theatreModeShare||"false",k=(g=y,(f=document.createElement("div")).classList.add("theater-mode","js-theater-mode"),f.dataset.forvideo=g,f);if(m.parentNode.insertBefore((d=y,u=m.getBoundingClientRect().height,(p=document.createElement("div")).classList.add("js-theater-mode-placeholder"),p.style.height=u+"px",p.dataset.forvideo=d,p),m.nextSibling),document.body.appendChild(k),k.appendChild(m),"true"===h){var V={videoGuid:m.dataset.videoGuid||"",guid:m.dataset.videoGuid||"",videoName:m.dataset.videoName||"",videoType:m.dataset.videoType||"",tripcontext:m.dataset.tripcontext||"",tripurl:m.dataset.tripUrl||"",geminiPlayerid:e||"",queryParams:m.dataset.queryParams||"",componentName:m.dataset.componentName||"",linkValue:m.dataset.linkValue||""};k.classList.add("theater-mode--share"),k.appendChild((c=V,s=document.createElement("div"),(l=document.createElement("a")).classList.add("theater-mode__overlay-close"),l.innerHTML="<i class='icon-cross font-xxx-large coh'></i>",s.addEventListener("click",function(){$(".js-theater-mode__overlay").addClass("hidden")}),s.classList.add("theater-mode__overlay","js-theater-mode__overlay","hidden"),s.innerHTML='\n                    <header class="theater-mode__overlay-header">Share this Video</header>\n                    <div class="theater-mode__overlay-body">\n                        \x3c!--Email share button--\x3e\n                        <a class="share-modal__link" href="javascript:void(0)" \n                            onclick="gcc.updateShareVideoModal(event);event.stopPropagation();" \n                            gcc-analytics-rule="ComponentClick"\n                            data-component-name="'.concat(c.componentName,'"\n                            data-link-value="share video:icon:email"\n                            data-video-guid="').concat(c.videoGuid.toUpperCase(),'" \n                            data-video="').concat(c.guid,'" \n                            data-tripcontext="').concat(c.tripcontext,'" \n                            data-trip-url="').concat(c.tripurl,'"\n                            data-video-name="').concat(c.videoName,'"\n                            data-video-type="').concat(c.videoType,'"\n                            data-query-params="').concat(c.queryParams,'"\n                            data-gemini-playerid="').concat(c.geminiPlayerid,'">\n                            <span class="icon-envelop1 link-color" aria-hidden="true"></span>\n                            Email\n                        </a>\n\n                        \x3c!--facebook share button--\x3e\n                        <a  class="share-modal__link" href="javascript:void(0)" \n                            onclick="gcc.fbModal(event);event.stopPropagation();"\n                            gcc-analytics-rule="ComponentClick"\n                            data-component-name="').concat(c.componentName,'"\n                            data-link-value="share video:icon:fbapp"\n                            data-video-guid="').concat(c.videoGuid.toUpperCase(),'" \n                            data-video="').concat(c.guid,'" \n                            data-tripcontext="').concat(c.tripcontext,'" \n                            data-video-name="').concat(c.videoName,'" \n                            data-trip-url="').concat(c.tripurl,'"\n                            data-video-type="').concat(c.videoType,'"\n                            data-query-params="').concat(c.queryParams,'"\n                            data-gemini-playerid="').concat(c.geminiPlayerid,'">\n                                <span class="icon-facebook" aria-hidden="true"></span>\n                                Facebook\n                         </a>\n                    </div>\n                '),s.appendChild(l),s)),k.appendChild((r=V,n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Macintosh/i.test(navigator.userAgent),(o=document.createElement("a")).classList.add("theater-mode__share-button"),o.innerHTML="<i class='icon-redo'></i><span>Share</span> ",navigator.share&&n?o.addEventListener("click",F):o.addEventListener("click",function(){$(".js-theater-mode__overlay").removeClass("hidden"),w.pause(),window.analyticsBridge&&window.analyticsBridge.TrackComponentClick({componentName:r.componentName||"",linkValue:"share video:btn:fullwidth player",videoGuid:r.videoGuid||"",videoName:r.videoName||"",videoType:r.videoType||""})}),o))}k.appendChild((i=y,(a=document.createElement("a")).classList.add("theater-mode__back-button"),a.innerHTML="<i class='icon-arrow-left8'></i>",a.dataset.forvideo=i,document.addEventListener("keyup",function(e){"Escape"===e.key&&G(i)}),a.addEventListener("click",function(){G(i)}),window.removeEventListener("popstate",U),a)),document.body.classList.add("noscroll"),window.addEventListener("popstate",U)}if(A.personalized()&&((new Date).getTime()>new Date(P.getTime()+_)||S))return console.log("re-queueing video due to personalized timeout"),E(),(O=O||{}).autoplay=!0,w.pause(),L(),S=!1,void $(w.el()).trigger("gccreqcuepersonalized",v);b=setTimeout(function(){if(!w.paused()){var e=x();S=!1,D||(D=!0,0<window.location.href.indexOf("?autoplay=true")&&(t=e,window.location.href.split("?")[1].toString().split("&").forEach(function(e){var t=e.split("=");"vguid"===t[0]&&(i=t[1])}),i===t.vguid&&$(w.el()).trigger("gccautoplay",t)),$(w.el()).trigger("gccstart",e)),$(w.el()).trigger("gccplay",e)}var t,i},3e3)}function B(e){R(e.target.attributes[2].nodeValue),gcc.videoClickCount++,H.pauseOtherPlayers(e.target.id),z(e.target.id,!0)}function q(){gcc.videoClickCount++,b&&(clearTimeout(b),b=null),N(1,0),setTimeout(function(){var e=x();w.paused()&&!S&&0<e.position&&$(w.el()).trigger("gcchumanpause",x())},11e3)}}}}),define("Video/components/BcPlayerAngular",["Video/components/BcPlayerWrapped"],function(r){angular.module("bc.player",["gccVideos"]).service("vjs",["$q","$interval","gccVideoPlugins",function(a,r,n){var e={getVjs:function(){var e=a.defer(),t=100,i=r(function(){"undefined"!=typeof videojs&&(n.load(videojs),e.resolve(videojs),r.cancel(i)),t--||(e.reject(),r.cancel(i))},t);return e.promise}};return e}]).service("bcPlayerService",["$q","vjs",function(e,t){var i={waitForThirdPartyPlayerToBeReady:function(i){var a=e.defer();return t.getVjs().then(function(e){videojs.players&&videojs.players[i]&&!document.body.contains(videojs.players[i].el_)&&videojs.players[i].dispose(),bc(i);var t=videojs.players[i];t.options({techOrder:["html5"]}),t.ready(function(){var e=new r.bcPlayerWrapped(this);a.resolve(e)})},function(e){console.log("waitForThirdPartyPlayerToBeReady ERROR: vjs didn't come back with Brightcove videojs function."),a.reject()}),a.promise}};return i}])}),define("Common/utils/gccAutomationLog",[],function(){$(document).ready(function(){setTimeout(function(){"true"==$.cookie("performance_test")&&(console.log("Automation log Initiated"),i.init())},1e3)});var e,a,t,i=(e=$.cookie("gcc.automationconsole")||"disabled",t=function(){a||(a=$("<div id='automation-console'></div>"),$("body").append(a))},"enabled"==e.toLowerCase()&&t(),{log:function(e,t){!function(e,t){if(a){var i="<div data-id='"+e+"' data-value= '"+t+"' data-timestamp='"+new Date($.now()).toUTCString()+"'>";a.prepend(i)}}(e,JSON.stringify(t))},init:function(){t()},clear:function(){a.empty()}});return i}),define("Analytics/components/GccAnalyticsAngular",["Common/utils/gccAutomationLog"],function(y){angular.module("gccAnalytics",[]).factory("GccAnalyticsFactory",[function(){var e=function(e){var t=i(e);return t.configureAnalytics=a,t.configureMedia=r,t.configurePlugins=n,t.refreshPageUrl=function(){this.pageURL=window.location.href;var e=this.pageURL,t=e.indexOf("?"),i=e.indexOf("#"),a="",r="";-1<t?(a=e.substr(0,t),r=e.substr(t,e.length)):-1<i?(a=e.substr(0,i),r=e.substr(i,e.length)):a=e,this.prop65=a,this.prop66=r},t;function d(){var p=this;p.version="1.6.4";var u=window;u.s_c_in||(u.s_c_il=[],u.s_c_in=0),p._il=u.s_c_il,p._in=u.s_c_in,p._il[p._in]=p,u.s_c_in++,p._c="s_c";var e,t,i,g=null,f=u;try{for(e=f.parent,t=f.location;e&&e.location&&t&&""+e.location!=""+t&&f.location&&""+e.location!=""+f.location&&e.location.host==t.host;)e=(f=e).parent}catch(e){}p.yb=function(e){try{console.log(e)}catch(e){}},p.Ha=function(e){return""+parseInt(e)==""+e},p.replace=function(e,t,i){return!e||e.indexOf(t)<0?e:e.split(t).join(i)},p.escape=function(e){var t,i;if(!e)return e;for(e=encodeURIComponent(e),t=0;t<7;t++)i="+~!*()'".substring(t,t+1),0<=e.indexOf(i)&&(e=p.replace(e,i,"%"+i.charCodeAt(0).toString(16).toUpperCase()));return e},p.unescape=function(e){if(!e)return e;e=0<=e.indexOf("+")?p.replace(e,"+"," "):e;try{return decodeURIComponent(e)}catch(e){}return unescape(e)},p.pb=function(){var e,t=u.location.hostname,i=p.fpCookieDomainPeriods;if(i||(i=p.cookieDomainPeriods),t&&!p.cookieDomain&&!/^[0-9.]+$/.test(t)&&(i=2<(i=i?parseInt(i):2)?i:2,0<=(e=t.lastIndexOf(".")))){for(;0<=e&&1<i;)e=t.lastIndexOf(".",e-1),i--;p.cookieDomain=0<e?t.substring(e):t}return p.cookieDomain},p.c_r=p.cookieRead=function(e){e=p.escape(e);var t=" "+p.d.cookie,i=t.indexOf(" "+e+"="),a=i<0?i:t.indexOf(";",i);return"[[B]]"!=(e=i<0?"":p.unescape(t.substring(i+2+e.length,a<0?t.length:a)))?e:""},p.c_w=p.cookieWrite=function(e,t,i){var a,r=p.pb(),n=p.cookieLifetime;return t=""+t,n=n?(""+n).toUpperCase():"",i&&"SESSION"!=n&&"NONE"!=n&&((a=""!=t?parseInt(n||0):-60)?(i=new Date).setTime(i.getTime()+1e3*a):1==i&&(i=new Date,a=i.getYear(),i.setYear(a+5+(a<1900?1900:0)))),e&&"NONE"!=n?(p.d.cookie=p.escape(e)+"="+p.escape(""!=t?t:"[[B]]")+"; path=/;"+(i&&"SESSION"!=n?" expires="+i.toGMTString()+";":"")+(r?" domain="+r+";":""),p.cookieRead(e)==t):0},p.K=[],p.ha=function(e,t,i){if(p.Aa)return 0;p.maxDelay||(p.maxDelay=250);var a=0,r=(new Date).getTime()+p.maxDelay,n=p.d.visibilityState,o=["webkitvisibilitychange","visibilitychange"];if(n||(n=p.d.webkitVisibilityState),n&&"prerender"==n){if(!p.ia)for(p.ia=1,i=0;i<o.length;i++)p.d.addEventListener(o[i],function(){var e=p.d.visibilityState;e||(e=p.d.webkitVisibilityState),"visible"==e&&(p.ia=0,p.delayReady())});a=1,r=0}else i||p.p("_d")&&(a=1);return a&&(p.K.push({m:e,a:t,t:r}),p.ia||setTimeout(p.delayReady,p.maxDelay)),a},p.delayReady=function(){var e,t=(new Date).getTime(),i=0;for(p.p("_d")?i=1:p.va();0<p.K.length;){if(e=p.K.shift(),i&&!e.t&&e.t>t){p.K.unshift(e),setTimeout(p.delayReady,parseInt(p.maxDelay/2));break}p.Aa=1,p[e.m].apply(p,e.a),p.Aa=0}},p.setAccount=p.sa=function(e){var t,i;if(!p.ha("setAccount",arguments))if(p.account=e,p.allAccounts)for(t=p.allAccounts.concat(e.split(",")),p.allAccounts=[],t.sort(),i=0;i<t.length;i++)0!=i&&t[i-1]==t[i]||p.allAccounts.push(t[i]);else p.allAccounts=e.split(",")},p.foreachVar=function(e,t){var i,a,r,n,o="";for(r=a="",p.lightProfileID?(i=p.O,(o=p.lightTrackVars)&&(o=","+o+","+p.ma.join(",")+",")):(i=p.g,(p.pe||p.linkType)&&(o=p.linkTrackVars,a=p.linkTrackEvents,p.pe&&(r=p.pe.substring(0,1).toUpperCase()+p.pe.substring(1),p[r]&&(o=p[r].Hb,a=p[r].Gb))),o&&(o=","+o+","+p.G.join(",")+","),a&&o&&(o+=",events,")),t&&(t=","+t+","),a=0;a<i.length;a++)r=i[a],(n=p[r])&&(!o||0<=o.indexOf(","+r+","))&&(!t||0<=t.indexOf(","+r+","))&&e(r,n)},p.r=function(e,t,i,a,r){var n,o,c,s,l="",d=0;if("contextData"==e&&(e="c"),t){for(n in t)if(!(Object.prototype[n]||r&&n.substring(0,r.length)!=r)&&t[n]&&(!i||0<=i.indexOf(","+(a?a+".":"")+n+","))){if(c=!1,d)for(o=0;o<d.length;o++)n.substring(0,d[o].length)==d[o]&&(c=!0);if(!c&&(""==l&&(l+="&"+e+"."),o=t[n],r&&(n=n.substring(r.length)),0<n.length))if(0<(c=n.indexOf(".")))o=n.substring(0,c),c=(r||"")+o+".",d||(d=[]),d.push(c),l+=p.r(o,t,i,a,c);else if("boolean"==typeof o&&(o=o?"true":"false"),o){if("retrieveLightData"==a&&r.indexOf(".contextData.")<0)switch(c=n.substring(0,4),s=n.substring(4),n){case"transactionID":n="xact";break;case"channel":n="ch";break;case"campaign":n="v0";break;default:p.Ha(s)&&("prop"==c?n="c"+s:"eVar"==c?n="v"+s:"list"==c?n="l"+s:"hier"==c&&(n="h"+s,o=o.substring(0,255)))}l+="&"+p.escape(n)+"="+p.escape(o)}}""!=l&&(l+="&."+e)}return l},p.usePostbacks=0,p.sb=function(){var e,t,i,a,r,n,o,c,s="",l="",d="",u=a="";if(p.lightProfileID?(e=p.O,(l=p.lightTrackVars)&&(l=","+l+","+p.ma.join(",")+",")):(e=p.g,(p.pe||p.linkType)&&(l=p.linkTrackVars,d=p.linkTrackEvents,p.pe&&(a=p.pe.substring(0,1).toUpperCase()+p.pe.substring(1),p[a]&&(l=p[a].Hb,d=p[a].Gb))),l&&(l=","+l+","+p.G.join(",")+","),d&&(d=","+d+",",l&&(l+=",events,")),p.events2&&(u+=(""!=u?",":"")+p.events2)),p.visitor&&1.5<=parseFloat(p.visitor.version)&&p.visitor.getCustomerIDs){if(a=g,r=p.visitor.getCustomerIDs())for(t in r)Object.prototype[t]||(i=r[t],a||(a={}),i.id&&(a[t+".id"]=i.id),i.authState&&(a[t+".as"]=i.authState));a&&(s+=p.r("cid",a))}for(p.AudienceManagement&&p.AudienceManagement.isReady()&&(s+=p.r("d",p.AudienceManagement.getEventCallConfigParams())),t=0;t<e.length;t++){if(a=e[t],r=p[a],i=a.substring(0,4),n=a.substring(4),!r&&"events"==a&&u&&(r=u,u=""),r&&(!l||0<=l.indexOf(","+a+","))){switch(a){case"supplementalDataID":a="sdid";break;case"timestamp":a="ts";break;case"dynamicVariablePrefix":a="D";break;case"visitorID":a="vid";break;case"marketingCloudVisitorID":a="mid";break;case"analyticsVisitorID":a="aid";break;case"audienceManagerLocationHint":a="aamlh";break;case"audienceManagerBlob":a="aamb";break;case"authState":a="as";break;case"pageURL":a="g",255<r.length&&(p.pageURLRest=r.substring(255),r=r.substring(0,255));break;case"pageURLRest":a="-g";break;case"referrer":a="r";break;case"vmk":case"visitorMigrationKey":a="vmt";break;case"visitorMigrationServer":a="vmf",p.ssl&&p.visitorMigrationServerSecure&&(r="");break;case"visitorMigrationServerSecure":a="vmf",!p.ssl&&p.visitorMigrationServer&&(r="");break;case"charSet":a="ce";break;case"visitorNamespace":a="ns";break;case"cookieDomainPeriods":a="cdp";break;case"cookieLifetime":a="cl";break;case"variableProvider":a="vvp";break;case"currencyCode":a="cc";break;case"channel":a="ch";break;case"transactionID":a="xact";break;case"campaign":a="v0";break;case"latitude":a="lat";break;case"longitude":a="lon";break;case"resolution":a="s";break;case"colorDepth":a="c";break;case"javascriptVersion":a="j";break;case"javaEnabled":a="v";break;case"cookiesEnabled":a="k";break;case"browserWidth":a="bw";break;case"browserHeight":a="bh";break;case"connectionType":a="ct";break;case"homepage":a="hp";break;case"events":if(u&&(r+=(""!=r?",":"")+u),d)for(n=r.split(","),r="",i=0;i<n.length;i++)o=n[i],0<=(c=o.indexOf("="))&&(o=o.substring(0,c)),0<=(c=o.indexOf(":"))&&(o=o.substring(0,c)),0<=d.indexOf(","+o+",")&&(r+=(r?",":"")+n[i]);break;case"events2":r="";break;case"contextData":s+=p.r("c",p[a],l,a),r="";break;case"lightProfileID":a="mtp";break;case"lightStoreForSeconds":a="mtss",p.lightProfileID||(r="");break;case"lightIncrementBy":a="mti",p.lightProfileID||(r="");break;case"retrieveLightProfiles":a="mtsr";break;case"deleteLightProfiles":a="mtsd";break;case"retrieveLightData":p.retrieveLightProfiles&&(s+=p.r("mts",p[a],l,a)),r="";break;default:p.Ha(n)&&("prop"==i?a="c"+n:"eVar"==i?a="v"+n:"list"==i?a="l"+n:"hier"==i&&(a="h"+n,r=r.substring(0,255)))}r&&(s+="&"+a+"="+("pev"!=a.substring(0,3)?p.escape(r):r))}"pev3"==a&&p.e&&(s+=p.e)}return s},p.D=function(e){var t=e.tagName;return"undefined"!=""+e.Mb||"undefined"!=""+e.Cb&&"HTML"!=(""+e.Cb).toUpperCase()?"":("SHAPE"==(t=t&&t.toUpperCase?t.toUpperCase():"")&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},p.Da=function(e){var t,i,a,r=e.href?e.href:"";return t=r.indexOf(":"),i=r.indexOf("?"),a=r.indexOf("/"),r&&(t<0||0<=i&&i<t||0<=a&&a<t)&&(i=e.protocol&&1<e.protocol.length?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),r=(i?i+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,t<0?0:t)+"/":"")+r),r},p.L=function(e){var t,i,a=p.D(e),r="",n=0;return a&&(t=e.protocol,i=e.onclick,!e.href||"A"!=a&&"AREA"!=a||i&&t&&!(t.toLowerCase().indexOf("javascript")<0)?i?(r=p.replace(p.replace(p.replace(p.replace(""+i,"\r",""),"\n",""),"\t","")," ",""),n=2):"INPUT"==a||"SUBMIT"==a?(e.value?r=e.value:e.innerText?r=e.innerText:e.textContent&&(r=e.textContent),n=3):"IMAGE"==a&&e.src&&(r=e.src):r=p.Da(e),r)?{id:r.substring(0,100),type:n}:0},p.Kb=function(e){for(var t=p.D(e),i=p.L(e);e&&!i&&"BODY"!=t;)(e=e.parentElement?e.parentElement:e.parentNode)&&(t=p.D(e),i=p.L(e));return i&&"BODY"!=t||(e=0),e&&(0<=(t=e.onclick?""+e.onclick:"").indexOf(".tl(")||0<=t.indexOf(".trackLink("))&&(e=0),e},p.Bb=function(){var e,t,i,a,r=p.linkObject,n=p.linkType,o=p.linkURL;if(p.na=1,r||(p.na=0,r=p.clickObject),r){for(e=p.D(r),t=p.L(r);r&&!t&&"BODY"!=e;)(r=r.parentElement?r.parentElement:r.parentNode)&&(e=p.D(r),t=p.L(r));if(t&&"BODY"!=e||(r=0),r&&!p.linkObject){var c=r.onclick?""+r.onclick:"";(0<=c.indexOf(".tl(")||0<=c.indexOf(".trackLink("))&&(r=0)}}else p.na=1;if(!o&&r&&(o=p.Da(r)),o&&!p.linkLeaveQueryString&&(0<=(i=o.indexOf("?"))&&(o=o.substring(0,i))),!n&&o){var s,l=0,d=0;if(p.trackDownloadLinks&&p.linkDownloadFileTypes)for(c=o.toLowerCase(),i=c.indexOf("?"),a=c.indexOf("#"),0<=i?0<=a&&a<i&&(i=a):i=a,0<=i&&(c=c.substring(0,i)),i=p.linkDownloadFileTypes.toLowerCase().split(","),a=0;a<i.length;a++)(s=i[a])&&c.substring(c.length-(s.length+1))=="."+s&&(n="d");if(p.trackExternalLinks&&!n&&(c=o.toLowerCase(),p.Ga(c)&&(p.linkInternalFilters||(p.linkInternalFilters=u.location.hostname),i=0,p.linkExternalFilters?(i=p.linkExternalFilters.toLowerCase().split(","),l=1):p.linkInternalFilters&&(i=p.linkInternalFilters.toLowerCase().split(",")),i))){for(a=0;a<i.length;a++)s=i[a],0<=c.indexOf(s)&&(d=1);d?l&&(n="e"):l||(n="e")}}p.linkObject=r,p.linkURL=o,p.linkType=n,(p.trackClickMap||p.trackInlineStats)&&(p.e="",r&&(n=p.pageName,o=1,r=r.sourceIndex,n||(n=p.pageURL,o=0),u.s_objectID&&(t.id=u.s_objectID,r=t.type=1),n&&t&&t.id&&e&&(p.e="&pid="+p.escape(n.substring(0,255))+(o?"&pidt="+o:"")+"&oid="+p.escape(t.id.substring(0,100))+(t.type?"&oidt="+t.type:"")+"&ot="+e+(r?"&oi="+r:""))))},p.tb=function(){var e=p.na,t=p.linkType,i=p.linkURL,a=p.linkName;if(t&&(i||a)&&("d"!=(t=t.toLowerCase())&&"e"!=t&&(t="o"),p.pe="lnk_"+t,p.pev1=i?p.escape(i):"",p.pev2=a?p.escape(a):"",e=1),p.abort&&(e=0),p.trackClickMap||p.trackInlineStats||p.ActivityMap){var r,n,o,t={},i=0,c=p.cookieRead("s_sq"),s=c?c.split("&"):0,c=0;if(s)for(r=0;r<s.length;r++)n=s[r].split("="),a=p.unescape(n[0]).split(","),n=p.unescape(n[1]),t[n]=a;for(o in a=p.account.split(","),r={},p.contextData)o&&!Object.prototype[o]&&"a.activitymap."==o.substring(0,14)&&(r[o]=p.contextData[o],p.contextData[o]="");if(p.e=p.r("c",r)+(p.e?p.e:""),e||p.e){for(n in e&&!p.e&&(c=1),t)if(!Object.prototype[n])for(o=0;o<a.length;o++)for(c&&((s=t[n].join(","))==p.account&&(p.e+=("&"!=n.charAt(0)?"&":"")+n,t[n]=[],i=1)),r=0;r<t[n].length;r++)(s=t[n][r])==a[o]&&(c&&(p.e+="&u="+p.escape(s)+("&"!=n.charAt(0)?"&":"")+n+"&u=0"),t[n].splice(r,1),i=1);if(e||(i=1),i){for(n in c="",r=2,!e&&p.e&&(c=p.escape(a.join(","))+"="+p.escape(p.e),r=1),t)!Object.prototype[n]&&0<r&&0<t[n].length&&(c+=(c?"&":"")+p.escape(t[n].join(","))+"="+p.escape(n),r--);p.cookieWrite("s_sq",c)}}}return e},p.ub=function(){if(!p.Fb){var e,t,i=new Date,a=f.location,r=t=e="",n="",o="",c="1.2",s=p.cookieWrite("s_cc","true",0)?"Y":"N",l="",d="";if(i.setUTCDate&&(c="1.3",(0).toPrecision&&(c="1.5",(i=[]).forEach))){c="1.6",t=0,e={};try{(t=new Iterator(e)).next&&(c="1.7",i.reduce&&((c="1.8").trim&&(c="1.8.1",Date.parse&&(c="1.8.2",Object.create&&(c="1.8.5")))))}catch(e){}}e=screen.width+"x"+screen.height,r=navigator.javaEnabled()?"Y":"N",t=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,n=p.w.innerWidth?p.w.innerWidth:p.d.documentElement.offsetWidth,o=p.w.innerHeight?p.w.innerHeight:p.d.documentElement.offsetHeight;try{p.b.addBehavior("#default#homePage"),l=p.b.Lb(a)?"Y":"N"}catch(e){}try{p.b.addBehavior("#default#clientCaps"),d=p.b.connectionType}catch(e){}p.resolution=e,p.colorDepth=t,p.javascriptVersion=c,p.javaEnabled=r,p.cookiesEnabled=s,p.browserWidth=n,p.browserHeight=o,p.connectionType=d,p.homepage=l,p.Fb=1}},p.P={},p.loadModule=function(t,e){var i=p.P[t];if(!i){i=u["AppMeasurement_Module_"+t]?new u["AppMeasurement_Module_"+t](p):{},p.P[t]=p[t]=i,i.Xa=function(){return i.ab},i.bb=function(e){(i.ab=e)&&(p[t+"_onLoad"]=e,p.ha(t+"_onLoad",[p,i],1)||e(p,i))};try{Object.defineProperty?Object.defineProperty(i,"onLoad",{get:i.Xa,set:i.bb}):i._olc=1}catch(e){i._olc=1}}e&&(p[t+"_onLoad"]=e,p.ha(t+"_onLoad",[p,i],1)||e(p,i))},p.p=function(e){var t,i;for(t in p.P)if(!Object.prototype[t]&&(i=p.P[t])&&(i._olc&&i.onLoad&&(i._olc=0,i.onLoad(p,i)),i[e]&&i[e]()))return 1;return 0},p.wb=function(){var e=Math.floor(1e13*Math.random()),t=p.visitorSampling,i=p.visitorSamplingGroup,i="s_vsn_"+(p.visitorNamespace?p.visitorNamespace:p.account)+(i?"_"+i:""),a=p.cookieRead(i);if(t){if(a&&(a=parseInt(a)),!a){if(!p.cookieWrite(i,e))return 0;a=e}if(a%1e4>v)return 0}return 1},p.Q=function(e,t){var i,a,r,n,o,c;for(i=0;i<2;i++)for(a=0<i?p.wa:p.g,r=0;r<a.length;r++)if(n=a[r],(o=e[n])||e["!"+n]){if(!t&&("contextData"==n||"retrieveLightData"==n)&&p[n])for(c in p[n])o[c]||(o[c]=p[n][c]);p[n]=o}},p.Qa=function(e,t){var i,a,r,n;for(i=0;i<2;i++)for(a=0<i?p.wa:p.g,r=0;r<a.length;r++)n=a[r],e[n]=p[n],t||e[n]||(e["!"+n]=1)},p.ob=function(e){var t,i,a,r,n,o,c=0,s="",l="";if(e&&255<e.length&&(0<(i=(t=""+e).indexOf("?"))&&(o=t.substring(i+1),t=t.substring(0,i),r=t.toLowerCase(),a=0,"http://"==r.substring(0,7)?a+=7:"https://"==r.substring(0,8)&&(a+=8),0<(i=r.indexOf("/",a))&&(r=r.substring(a,i),n=t.substring(i),t=t.substring(0,i),0<=r.indexOf("google")?c=",q,ie,start,search_key,word,kw,cd,":0<=r.indexOf("yahoo.co")&&(c=",p,ei,"),c&&o)))){if((e=o.split("&"))&&1<e.length){for(a=0;a<e.length;a++)r=e[a],0<(i=r.indexOf("="))&&0<=c.indexOf(","+r.substring(0,i)+",")?s+=(s?"&":"")+r:l+=(l?"&":"")+r;s&&l?o=s+"&"+l:l=""}i=253-(o.length-l.length)-t.length,e=t+(0<i?n.substring(0,i):"")+"?"+o}return e},p.Wa=function(t){var e=p.d.visibilityState,i=["webkitvisibilitychange","visibilitychange"];if(e||(e=p.d.webkitVisibilityState),e&&"prerender"==e){if(t)for(e=0;e<i.length;e++)p.d.addEventListener(i[e],function(){var e=p.d.visibilityState;e||(e=p.d.webkitVisibilityState),"visible"==e&&t()});return!1}return!0},p.da=!1,p.I=!1,p.eb=function(){p.I=!0,p.j()},p.ba=!1,p.U=!1,p.$a=function(e){p.marketingCloudVisitorID=e,p.U=!0,p.j()},p.ea=!1,p.V=!1,p.fb=function(e){p.visitorOptedOut=e,p.V=!0,p.j()},p.Y=!1,p.R=!1,p.Sa=function(e){p.analyticsVisitorID=e,p.R=!0,p.j()},p.aa=!1,p.T=!1,p.Ua=function(e){p.audienceManagerLocationHint=e,p.T=!0,p.j()},p.Z=!1,p.S=!1,p.Ta=function(e){p.audienceManagerBlob=e,p.S=!0,p.j()},p.Va=function(e){return p.maxDelay||(p.maxDelay=250),!p.p("_d")||(e&&setTimeout(function(){e()},p.maxDelay),!1)},p.ca=!1,p.H=!1,p.va=function(){p.H=!0,p.j()},p.isReadyToTrack=function(){var e,t,i,a=!0,r=p.visitor;return p.da||p.I||(p.Wa(p.eb)?p.I=!0:p.da=!0),!(p.da&&!p.I)&&(r&&r.isAllowed()&&(p.ba||p.marketingCloudVisitorID||!r.getMarketingCloudVisitorID||(p.ba=!0,p.marketingCloudVisitorID=r.getMarketingCloudVisitorID([p,p.$a]),p.marketingCloudVisitorID&&(p.U=!0)),p.ea||p.visitorOptedOut||!r.isOptedOut||(p.ea=!0,p.visitorOptedOut=r.isOptedOut([p,p.fb]),p.visitorOptedOut!=g&&(p.V=!0)),p.Y||p.analyticsVisitorID||!r.getAnalyticsVisitorID||(p.Y=!0,p.analyticsVisitorID=r.getAnalyticsVisitorID([p,p.Sa]),p.analyticsVisitorID&&(p.R=!0)),p.aa||p.audienceManagerLocationHint||!r.getAudienceManagerLocationHint||(p.aa=!0,p.audienceManagerLocationHint=r.getAudienceManagerLocationHint([p,p.Ua]),p.audienceManagerLocationHint&&(p.T=!0)),p.Z||p.audienceManagerBlob||!r.getAudienceManagerBlob||(p.Z=!0,p.audienceManagerBlob=r.getAudienceManagerBlob([p,p.Ta]),p.audienceManagerBlob&&(p.S=!0)),a=p.ba&&!p.U&&!p.marketingCloudVisitorID,r=p.Y&&!p.R&&!p.analyticsVisitorID,e=p.aa&&!p.T&&!p.audienceManagerLocationHint,t=p.Z&&!p.S&&!p.audienceManagerBlob,i=p.ea&&!p.V,a=!(a||r||e||t||i)),p.ca||p.H||(p.Va(p.va)?p.H=!0:p.ca=!0),p.ca&&!p.H&&(a=!1),a)},p.o=g,p.u=0,p.callbackWhenReadyToTrack=function(e,t,i){var a;(a={}).jb=e,a.ib=t,a.gb=i,p.o==g&&(p.o=[]),p.o.push(a),0==p.u&&(p.u=setInterval(p.j,100))},p.j=function(){var e;if(p.isReadyToTrack()&&(p.cb(),p.o!=g))for(;0<p.o.length;)(e=p.o.shift()).ib.apply(e.jb,e.gb)},p.cb=function(){p.u&&(clearInterval(p.u),p.u=0)},p.Ya=function(e){var t,i,a=g,r=g;if(p.isReadyToTrack())return!1;if(t=[],e!=g)for(i in a={},e)a[i]=e[i];return r={},p.Qa(r,!0),t.push(a),t.push(r),p.callbackWhenReadyToTrack(p,p.track,t),!0},p.qb=function(){var e,t=p.cookieRead("s_fid"),i="",a="";e=8;var r=4;if(!t||t.indexOf("-")<0){for(t=0;t<16;t++)e=Math.floor(Math.random()*e),i+="0123456789ABCDEF".substring(e,e+1),e=Math.floor(Math.random()*r),a+="0123456789ABCDEF".substring(e,e+1),e=r=16;t=i+"-"+a}return p.cookieWrite("s_fid",t,1)||(t=0),t},p.t=p.track=function(e,t){var i,a=new Date,r="s"+Math.floor(a.getTime()/108e5)%10+Math.floor(1e13*Math.random()),n=a.getYear(),n="t="+p.escape(a.getDate()+"/"+a.getMonth()+"/"+(n<1900?n+1900:n)+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+" "+a.getDay()+" "+a.getTimezoneOffset());p.visitor&&(p.visitor.getAuthState&&(p.authState=p.visitor.getAuthState()),!p.supplementalDataID&&p.visitor.getSupplementalDataID&&(p.supplementalDataID=p.visitor.getSupplementalDataID("AppMeasurement:"+p._in,!p.expectSupplementalData))),p.p("_s"),p.Ya(e)||(t&&p.Q(t),e&&(i={},p.Qa(i,0),p.Q(e)),p.wb()&&!p.visitorOptedOut&&(p.analyticsVisitorID||p.marketingCloudVisitorID||(p.fid=p.qb()),p.Bb(),p.usePlugins&&p.doPlugins&&p.doPlugins(p),p.account&&(p.abort||(p.trackOffline&&!p.timestamp&&(p.timestamp=Math.floor(a.getTime()/1e3)),a=u.location,p.pageURL||(p.pageURL=a.href?a.href:a),p.referrer||p.Ra||(p.referrer=f.document.referrer),p.Ra=1,p.referrer=p.ob(p.referrer),p.p("_g")),p.tb()&&!p.abort&&(p.ub(),n+=p.sb(),p.Ab(r,n),p.p("_t"),p.referrer=""))),e&&p.Q(i,1)),p.abort=p.supplementalDataID=p.timestamp=p.pageURLRest=p.linkObject=p.clickObject=p.linkURL=p.linkName=p.linkType=u.s_objectID=p.pe=p.pev1=p.pev2=p.pev3=p.e=p.lightProfileID=0},p.tl=p.trackLink=function(e,t,i,a,r){return p.linkObject=e,p.linkType=t,p.linkName=i,r&&(p.l=e,p.A=r),p.track(a)},p.trackLight=function(e,t,i,a){return p.lightProfileID=e,p.lightStoreForSeconds=t,p.lightIncrementBy=i,p.track(a)},p.clearVars=function(){var e,t;for(e=0;e<p.g.length;e++)("prop"==(t=p.g[e]).substring(0,4)||"eVar"==t.substring(0,4)||"hier"==t.substring(0,4)||"list"==t.substring(0,4)||"channel"==t||"events"==t||"eventList"==t||"products"==t||"productList"==t||"purchaseID"==t||"transactionID"==t||"state"==t||"zip"==t||"campaign"==t)&&(p[t]=void 0)},p.tagContainerMarker="",p.Ab=function(e,t){var i,a=p.trackingServer;i="";var r=p.dc,n="sc.",o=p.visitorNamespace;a?p.trackingServerSecure&&p.ssl&&(a=p.trackingServerSecure):(o||(o=p.account,0<=(a=o.indexOf(","))&&(o=o.substring(0,a)),o=o.replace(/[^A-Za-z0-9]/g,"")),i||(i="2o7.net"),r=r?(""+r).toLowerCase():"d1","2o7.net"==i&&("d1"==r?r="112":"d2"==r&&(r="122"),n=""),a=o+"."+r+"."+n+i),i=p.ssl?"https://":"http://",r=p.AudienceManagement&&p.AudienceManagement.isReady()||0!=p.usePostbacks,i+=a+"/b/ss/"+p.account+"/"+(p.mobile?"5.":"")+(r?"10":"1")+"/JS-"+p.version+(p.Eb?"T":"")+(p.tagContainerMarker?"-"+p.tagContainerMarker:"")+"/"+e+"?AQB=1&ndh=1&pf=1&"+(r?"callback=s_c_il["+p._in+"].doPostbacks&et=1&":"")+t+"&AQE=1",p.mb(i),p.ja()},p.Pa=/{(%?)(.*?)(%?)}/,p.Ib=RegExp(p.Pa.source,"g"),p.nb=function(e){if("object"==_typeof(e.dests))for(var t=0;t<e.dests.length;++t)if(o=e.dests[t],"string"==typeof o.c&&"aa."==o.id.substr(0,3))for(var i=o.c.match(p.Ib),t=0;t<i.length;++t){match=i[t];var a=match.match(p.Pa),r="";"%"==a[1]&&"timezone_offset"==a[2]?r=(new Date).getTimezoneOffset():"%"==a[1]&&"timestampz"==a[2]&&(r=p.rb()),o.c=o.c.replace(match,p.escape(r))}},p.rb=function(){var e=new Date,t=new Date(6e4*Math.abs(e.getTimezoneOffset()));return p.k(4,e.getFullYear())+"-"+p.k(2,e.getMonth()+1)+"-"+p.k(2,e.getDate())+"T"+p.k(2,e.getHours())+":"+p.k(2,e.getMinutes())+":"+p.k(2,e.getSeconds())+(0<e.getTimezoneOffset()?"-":"+")+p.k(2,t.getUTCHours())+":"+p.k(2,t.getUTCMinutes())},p.k=function(e,t){return(Array(e+1).join(0)+t).slice(-e)},p.ra={},p.doPostbacks=function(e){if("object"==_typeof(e))if(p.nb(e),"object"==_typeof(p.AudienceManagement)&&"function"==typeof p.AudienceManagement.isReady&&p.AudienceManagement.isReady()&&"function"==typeof p.AudienceManagement.passData)p.AudienceManagement.passData(e);else if("object"==_typeof(e)&&"object"==_typeof(e.dests))for(var t=0;t<e.dests.length;++t)dest=e.dests[t],"object"==("undefined"==typeof dest?"undefined":_typeof(dest))&&"string"==typeof dest.c&&"string"==typeof dest.id&&"aa."==dest.id.substr(0,3)&&(p.ra[dest.id]=new Image,p.ra[dest.id].alt="",p.ra[dest.id].src=dest.c)},p.mb=function(e){p.i||p.vb(),p.i.push(e),p.la=p.C(),p.Na()},p.vb=function(){p.i=p.xb(),p.i||(p.i=[])},p.xb=function(){var e,t;if(p.qa()){try{(t=u.localStorage.getItem(p.oa()))&&(e=u.JSON.parse(t))}catch(e){}return e}},p.qa=function(){var e=!0;return p.trackOffline&&p.offlineFilename&&u.localStorage&&u.JSON||(e=!1),e},p.Ea=function(){var e=0;return p.i&&(e=p.i.length),p.q&&e++,e},p.ja=function(){if(!p.q||(p.B&&p.B.complete&&p.B.F&&p.B.ua(),!p.q))if(p.Fa=g,p.pa)p.la>p.N&&p.La(p.i),p.ta(500);else{var e=p.hb();0<e?p.ta(e):(e=p.Ba())&&(p.q=1,p.zb(e),p.Db(e))}},p.ta=function(e){p.Fa||(e||(e=0),p.Fa=setTimeout(p.ja,e))},p.hb=function(){var e;return!p.trackOffline||p.offlineThrottleDelay<=0?0:(e=p.C()-p.Ka,p.offlineThrottleDelay<e?0:p.offlineThrottleDelay-e)},p.Ba=function(){if(0<p.i.length)return p.i.shift()},p.zb=function(e){if(p.debugTracking){var t,i="AppMeasurement Debug: "+e;for(e=e.split("&"),t=0;t<e.length;t++)i+="\n\t"+p.unescape(e[t]);p.yb(i)}},p.Za=function(){return p.marketingCloudVisitorID||p.analyticsVisitorID},p.X=!1;try{i=JSON.parse('{"x":"y"}')}catch(e){i=null}for(i&&"y"==i.x?(p.X=!0,p.W=function(e){return JSON.parse(e)}):u.$&&u.$.parseJSON?(p.W=function(e){return u.$.parseJSON(e)},p.X=!0):p.W=function(){return null},p.Db=function(e){var t,i,a;if(p.Za()&&2047<e.length&&("undefined"!=typeof XMLHttpRequest&&("withCredentials"in(t=new XMLHttpRequest)?i=1:t=0),t||"undefined"==typeof XDomainRequest||(t=new XDomainRequest,i=2),t&&(p.AudienceManagement&&p.AudienceManagement.isReady()||0!=p.usePostbacks)&&(p.X?t.xa=!0:t=0)),!t&&p.Oa&&(e=e.substring(0,2047)),!t&&p.d.createElement&&(0!=p.usePostbacks||p.AudienceManagement&&p.AudienceManagement.isReady())&&(t=p.d.createElement("SCRIPT"))&&"async"in t&&((a=(a=p.d.getElementsByTagName("HEAD"))&&a[0]?a[0]:p.d.body)?(t.type="text/javascript",t.setAttribute("async","async"),i=3):t=0),t||((t=new Image).alt="",t.abort||void 0===u.InstallTrigger||(t.abort=function(){t.src=g})),t.za=function(){try{t.F&&(clearTimeout(t.F),t.F=0)}catch(e){}},t.onload=t.ua=function(){if(t.za(),p.lb(),p.fa(),p.q=0,p.ja(),t.xa){t.xa=!1;try{p.doPostbacks(p.W(t.responseText))}catch(e){}}},t.onabort=t.onerror=t.Ca=function(){t.za(),(p.trackOffline||p.pa)&&p.q&&p.i.unshift(p.kb),p.q=0,p.la>p.N&&p.La(p.i),p.fa(),p.ta(500)},t.onreadystatechange=function(){4==t.readyState&&(200==t.status?t.ua():t.Ca())},p.Ka=p.C(),1==i||2==i){var r=e.indexOf("?");a=e.substring(0,r),r=(r=e.substring(r+1)).replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==i?(t.open("POST",a,!0),t.send(r)):2==i&&(t.open("POST",a),t.send(r))}else if(t.src=e,3==i){if(p.Ia)try{a.removeChild(p.Ia)}catch(e){}a.firstChild?a.insertBefore(t,a.firstChild):a.appendChild(t),p.Ia=p.B}t.F=setTimeout(function(){t.F&&(t.complete?t.ua():(p.trackOffline&&t.abort&&t.abort(),t.Ca()))},5e3),p.kb=e,p.B=u["s_i_"+p.replace(p.account,",","_")]=t,(p.useForcedLinkTracking&&p.J||p.A)&&(p.forcedLinkTrackingTimeout||(p.forcedLinkTrackingTimeout=250),p.ga=setTimeout(p.fa,p.forcedLinkTrackingTimeout))},p.lb=function(){if(p.qa()&&!(p.Ja>p.N))try{u.localStorage.removeItem(p.oa()),p.Ja=p.C()}catch(e){}},p.La=function(e){if(p.qa()){p.Na();try{u.localStorage.setItem(p.oa(),u.JSON.stringify(e)),p.N=p.C()}catch(e){}}},p.Na=function(){if(p.trackOffline)for((!p.offlineLimit||p.offlineLimit<=0)&&(p.offlineLimit=10);p.i.length>p.offlineLimit;)p.Ba()},p.forceOffline=function(){p.pa=!0},p.forceOnline=function(){p.pa=!1},p.oa=function(){return p.offlineFilename+"-"+p.visitorNamespace+p.account},p.C=function(){return(new Date).getTime()},p.Ga=function(e){return 0!=(e=e.toLowerCase()).indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},p.setTagContainer=function(e){var t,i,a;for(p.Eb=e,t=0;t<p._il.length;t++)if((i=p._il[t])&&"s_l"==i._c&&i.tagContainerName==e){if(p.Q(i),i.lmq)for(t=0;t<i.lmq.length;t++)a=i.lmq[t],p.loadModule(a.n);if(i.ml)for(a in i.ml)if(p[a])for(t in e=p[a],a=i.ml[a])!Object.prototype[t]&&("function"!=typeof a[t]||(""+a[t]).indexOf("s_c_il")<0)&&(e[t]=a[t]);if(i.mmq)for(t=0;t<i.mmq.length;t++)a=i.mmq[t],p[a.m]&&((e=p[a.m])[a.f]&&"function"==typeof e[a.f]&&(a.a?e[a.f].apply(e,a.a):e[a.f].apply(e)));if(i.tq)for(t=0;t<i.tq.length;t++)p.track(i.tq[t]);i.s=p;break}},p.Util={urlEncode:p.escape,urlDecode:p.unescape,cookieRead:p.cookieRead,cookieWrite:p.cookieWrite,getQueryParam:function(e,t,i){var a;return t||(t=p.pageURL?p.pageURL:u.location),i||(i="&"),e&&t&&(0<=(a=(t=""+t).indexOf("?"))&&(t=i+t.substring(a+1)+i,0<=(a=t.indexOf(i+e+"="))&&(t=t.substring(a+i.length+e.length+1),0<=(a=t.indexOf(i))&&(t=t.substring(0,a)),0<t.length)))?p.unescape(t):""}},p.G="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),p.g=p.G.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),p.ma="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),p.O=p.ma.slice(0),p.wa="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks AudienceManagement".split(" "),e=0;e<=250;e++)e<76&&(p.g.push("prop"+e),p.O.push("prop"+e)),p.g.push("eVar"+e),p.O.push("eVar"+e),e<6&&p.g.push("hier"+e),e<4&&p.g.push("list"+e);e="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest".split(" "),p.g=p.g.concat(e),p.G=p.G.concat(e),p.ssl=0<=u.location.protocol.toLowerCase().indexOf("https"),p.charSet="UTF-8",p.contextData={},p.offlineThrottleDelay=0,p.offlineFilename="AppMeasurement.offline",p.Ka=0,p.la=0,p.N=0,p.Ja=0,p.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",p.w=u,p.d=u.document;try{if(p.Oa=!1,navigator){var a=navigator.userAgent;("Microsoft Internet Explorer"==navigator.appName||0<=a.indexOf("MSIE ")||0<=a.indexOf("Trident/")&&0<=a.indexOf("Windows NT 6"))&&(p.Oa=!0)}}catch(e){}p.fa=function(){p.ga&&(u.clearTimeout(p.ga),p.ga=g),p.l&&p.J&&p.l.dispatchEvent(p.J),p.A&&("function"==typeof p.A?p.A():p.l&&p.l.href&&(p.d.location=p.l.href)),p.l=p.J=p.A=0},p.Ma=function(){p.b=p.d.body,p.b?(p.v=function(e){var t,i,a,r,n;if(!(p.d&&p.d.getElementById("cppXYctnr")||e&&e["s_fe_"+p._in])){if(p.ya){if(!p.useForcedLinkTracking)return p.b.removeEventListener("click",p.v,!0),void(p.ya=p.useForcedLinkTracking=0);p.b.removeEventListener("click",p.v,!1)}else p.useForcedLinkTracking=0;p.clickObject=e.srcElement?e.srcElement:e.target;try{if(!p.clickObject||p.M&&p.M==p.clickObject||!(p.clickObject.tagName||p.clickObject.parentElement||p.clickObject.parentNode))p.clickObject=0;else{var o=p.M=p.clickObject;if(p.ka&&(clearTimeout(p.ka),p.ka=0),p.ka=setTimeout(function(){p.M==o&&(p.M=0)},1e4),a=p.Ea(),p.track(),a<p.Ea()&&p.useForcedLinkTracking&&e.target){for(r=e.target;r&&r!=p.b&&"A"!=r.tagName.toUpperCase()&&"AREA"!=r.tagName.toUpperCase();)r=r.parentNode;if(r&&(n=r.href,p.Ga(n)||(n=0),i=r.target,e.target.dispatchEvent&&n&&(!i||"_self"==i||"_top"==i||"_parent"==i||u.name&&i==u.name))){try{t=p.d.createEvent("MouseEvents")}catch(e){t=new u.MouseEvent}if(t){try{t.initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(e){t=0}t&&(t["s_fe_"+p._in]=t.s_fe=1,e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.preventDefault(),p.l=e.target,p.J=t)}}}}}catch(e){p.clickObject=0}}},p.b&&p.b.attachEvent?p.b.attachEvent("onclick",p.v):p.b&&p.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&p.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&u.MouseEvent)&&(p.ya=1,p.useForcedLinkTracking=1,p.b.addEventListener("click",p.v,!0)),p.b.addEventListener("click",p.v,!1))):setTimeout(p.Ma,30)},p.Ma(),p.loadModule("ActivityMap")}function i(e){var t,i,a,r,n,o=window.s_c_il,c=e.split(","),s=0;if(o)for(i=0;!s&&i<o.length;){if("s_c"==(t=o[i])._c&&(t.account||t.oun))if(t.account&&t.account==e)s=1;else for(a=t.account?t.account:t.oun,a=t.allAccounts?t.allAccounts:a.split(","),r=0;r<c.length;r++)for(n=0;n<a.length;n++)c[r]==a[n]&&(s=1);i++}return s||(t=new d),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}}(function(){var e;e="www.gct.com"===window.location.host?"gcccorpproda,gcccorpgct":"www.oattravel.com"===window.location.host?"gcccorpproda,gcccorpoat":"gcccorpdevb";return e}()),t={charSet:"UTF-8",currencyCode:"USD",trackDownloadLinks:!0,trackExternalLinks:!0,trackInlineStats:!0,linkDownloadFilesTypes:"exe,zip,wav,mp3,mov,mpg,avi,wmv,doc,docx,pdf,xls",linkInternalFilter:"javascript:,gct.com,oattravel.com,gctcatalogs.com,oatcatalogs.com,oatbigbook.com,gcclcatalogs.com,gccldreambook.com,iceportal.com",linkLeaveQueryString:!1,linkTrackVars:"None",linkTrackEvents:"None",usePlugins:!0,doPlugins:function(e){e.eVar25||(e.eVar58="unrecognized",e.prop25=""),e.eVar25&&("0"!==e.eVar25&&"undefined"!==e.eVar25&&"anonymous"!==e.eVar25?e.eVar58="recognized":e.eVar58="unrecognized","0"==e.eVar25&&(e.eVar25=""),e.prop25=e.eVar25),e.eVar64="D=pageName",gcc.mvcsite?e.prop60=window.location.hostname+"-MVC":e.prop60=window.location.hostname,e.prop60?e.eVar60=e.prop60=e.prop60.toLowerCase():e.eVar60="";var t="empty";e.channel&&"string"==typeof e.channel&&""!=e.channel&&(e.channel=e.channel.toLowerCase(),e.eVar1=e.channel),e.prop1&&"string"==typeof e.prop1&&""!=e.prop1&&(e.prop1=e.prop1.toLowerCase()),e.prop2&&"string"==typeof e.prop2&&""!=e.prop2?(e.prop2=e.prop2.toLowerCase(),e.eVar2=e.prop2):e.eVar2=t,e.prop3&&"string"==typeof e.prop3&&""!=e.prop3?(e.prop3=e.prop3.toLowerCase(),e.eVar3=e.prop3):e.eVar3=t,e.prop4&&"string"==typeof e.prop4&&""!=e.prop4?(e.prop4=e.prop4.toLowerCase(),e.eVar4=e.prop4):e.eVar4=t,e.prop4&&"number"==typeof e.prop4&&""!=e.prop4&&(e.prop4=e.prop4,e.eVar4=e.prop4),e.prop5&&"string"==typeof e.prop5&&""!=e.prop5?(e.prop5=e.prop5.toLowerCase(),e.eVar5=e.prop5):e.eVar5=t,e.prop6&&"string"==typeof e.prop6&&""!=e.prop6?(e.prop6=e.prop6.toLowerCase(),e.eVar6=e.prop6):e.eVar6=t,e.prop10&&"string"==typeof e.prop10&&""!=e.prop10&&(e.prop10=e.prop10.toLowerCase(),e.eVar10=e.prop10),e.prop11&&"string"==typeof e.prop11&&""!=e.prop11&&(e.prop11=e.prop11.toLowerCase(),e.eVar11=e.prop11),e.prop12&&"string"==typeof e.prop12&&""!=e.prop12&&(e.prop12=e.prop12.toLowerCase()),e.prop13&&"string"==typeof e.prop13&&""!=e.prop13&&(e.prop13=e.prop13.toLowerCase()),e.prop14&&"string"==typeof e.prop14&&""!=e.prop14&&(e.prop14=e.prop14.toLowerCase()),e.prop15&&"string"==typeof e.prop15&&""!=e.prop15&&(e.prop15=e.prop15.toLowerCase()),e.prop16&&"string"==typeof e.prop16&&""!=e.prop16&&(e.prop16=e.prop16.toLowerCase()),e.eVar22&&"string"==typeof e.eVar22&&""!=e.eVar22&&(e.eVar22=e.eVar22.toLowerCase(),e.prop18=e.eVar22),e.eVar23&&"string"==typeof e.eVar23&&""!=e.eVar23&&(e.eVar23=e.eVar23.toLowerCase(),e.prop19=e.eVar23),e.products&&"string"==typeof e.products&&""!=e.products&&(e.products=e.products.toLowerCase()),e.eVar64&&(e.prop64=e.eVar64)},visitorNamesapce:"grandcirclecorporation",trackingServer:"alewis.gct.com",trackingServerSecure:"lewis.gct.com"},i={trackUsingContextData:!0,contextDataMapping:{"a.media.name":"eVar53,prop23","a.media.type":"eVar55","a.media.timePlayed":"event16","a.media.view":"event17","a.media.complete":"event18","a.media.segmentView":"event19","a.media.tripcode":"eVar27","a.media.tripyear":"eVar28"},trackSeconds:60,trackVars:"",trackEvents:"",completeCloseOffsetThreshold:3,playerName:"JW Player",monitor:function(e,t){}};return e.configureAnalytics(t),e.loadModule("Media"),e.configureMedia(i),e.configurePlugins(),e;function a(e){for(var t in e)this[t]=e[t]}function r(e){for(var t in e)this.Media[t]=e[t]}function n(){this.getQueryParam=new Function("p","d","u","h","var s=this,v='',i,j,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.location);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p.length:i;t=s.p_gpv(p.substring(0,i),u+'',h);if(t){t=t.indexOf('#')>-1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i==p.length?i:i+1)}return v"),this.p_gpv=new Function("k","u","h","var s=this,v='',q;j=h==1?'#':'?';i=u.indexOf(j);if(k&&i>-1){q=u.substring(i+1);v=s.pt(q,'&','p_gvf',k)}return v"),this.p_gvf=new Function("t","k","if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'True':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s.epa(v)}return''"),this.getValOnce=new Function("v","c","e","t","var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?60000:86400000,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e==0?0:a);}return v==k?'':v"),this.apl=new Function("l","v","d","u","var s=this,m=0;if(!l)l='';if(u){var i,n,a=s.split(l,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)l=l?l+d+v:v;return l"),this.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),this.getPreviousValue=new Function("v","c","el","var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}"),this.getTimeParting=new Function("h","z","var s=this,od;od=new Date('1/1/2000');if(od.getDay()!=6||od.getMonth()!=0){return'Data Not Available';}else{var H,M,D,U,ds,de,tm,da=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],d=new Date();z=z?z:0;z=parseFloat(z);if(s._tpDST){var dso=s._tpDST[d.getFullYear()].split(/,/);ds=new Date(dso[0]+'/'+d.getFullYear());de=new Date(dso[1]+'/'+d.getFullYear());if(h=='n'&&d>ds&&d<de){z=z+1;}else if(h=='s'&&(d>de||d<ds)){z=z+1;}}d=d.getTime()+(d.getTimezoneOffset()*60000);d=new Date(d+(3600000*z));H=d.getHours();M=d.getMinutes();M=(M<10)?'0'+M:M;D=d.getDay();U=' AM';if(H>=12){U=' PM';H=H-12;}if(H==0){H=12;}D=da[D];tm=H+':'+M+U;return(tm+'|'+D);}"),this.visitorNamespace="grandcirclecorporation",this.trackingServer="alewis.gct.com",this.trackingServerSecure="lewis.gct.com"}}]).service("GccAnalyticsService",["$cookieJar","GccVideos","GccVideoFactory","GccAnalyticsFactory","$pbm","CloudService","$rootScope",function(e,t,o,m,i,a,r){var n={trackVideo:function(e,t){switch(e){case"start":return function(e){if("True"===gcc.featureFlags.event17)return;n(e,"event17","event17","m_s")}(t);case"autoplay":return void n(t,"event28","event28","m_s");case"humanpause":return function(e){if("True"===gcc.featureFlags.event31)return;n(e,"event31","event31","m_i")}(t);case"timeviewed":return function(e){if("True"===gcc.featureFlags.event16)return;var t="event16",i="event16="+e.secondsReached;1==e.intervalReached&&60==e.secondsReached&&(t="event16,event19",i="event16=60,event19",e.isSundaySky&&(t+=",event20",i+=",event20"),e.isCompassLight&&(t+=",event21",i+=",event21"));4==e.intervalReached&&60==e.secondsReached&&(t+=",event27",i+=",event27");n(e,t,i,"m_i")}(t);case"complete":return function(e){if("True"===gcc.featureFlags.event18)return;n(e,"event18","event18","m_i")}(t);case"facebookshare":return void n(t,"event57","event57","m_s");case"videoRating":return function(e){if(e.video){var t="event53",i={tripCode:gcc.trip.code?gcc.trip.code.toUpperCase():"NA",tripYear:gcc.trip.year?gcc.trip.year:"-100",tripBrand:gcc.trip.brand?gcc.trip.brand.toUpperCase():"NA"},a=o.Video(),r=new a({personalized:e.video.isPersonalized,videoType:e.video.analyticsVideoType,tripcode:i.tripCode,name:e.video.analyticsVideoName});i.evar53=r.evar53(),i.evar55=r.evar55(),i.vguid=e.video.vguid,i.evar61=e.video.componentDesc,i.evar71="vdrting:"+e.action,n(i,t,t,"m_s")}else console.log("analytics: VideoRating ERROR: no args.video specified!")}(t);default:return null}function v(e){return 0<=e.indexOf("event17")?"videostart":0<=e.indexOf("event18")?"videocomplete":0<=e.indexOf("event16")?"videotime":0<=e.indexOf("event31")?"humanpause":"none"}function n(e,t,i,a){m.linkTrackVars="prop1,prop2,prop3,prop4,prop5,prop18,prop19,prop20,prop21,prop22,prop23,prop25,prop61,prop64,prop65,eVar1,eVar2,eVar3,eVar4,eVar5,eVar6,eVar12,eVar15,eVar16,eVar17,eVar20,eVar21,eVar22,eVar23,eVar26,eVar25,eVar27,eVar28,eVar29,eVar35,eVar46,eVar50,eVar52,eVar53,eVar54,eVar55,eVar56,eVar58,eVar71,events,eVar24,eVar61,eVar64,eVar82,eVar83,eVar76",gcc.DestTripVideos=gcc.DestTripVideos||[];var r=!1;"event28"==i&&void 0!==gcc.autoPlayLoadedRecommendedVideo&&""!=gcc.autoPlayLoadedRecommendedVideo&&(r=!0),("destcmp:mdl_videoplayer"==e.evar61&&"event17"==i&&gcc.DestTripVideos.indexOf(e.vguid)<0||"destfeatdvid:othr:mdl:videoplayer"==e.evar61&&"event17"==i||null!=e.evar61&&0<=e.evar61.indexOf("mdl")&&"event17"==i)&&(gcc.DestTripVideos.push(e.vguid.toUpperCase()),i+=",event36",t+=",event36"),m.linkTrackEvents=t,m.events=i,"0"==m.eVar25&&(m.eVar25=""),m.eVar35=m.eVar25,e.vguid&&0<e.vguid.length?m.eVar50=(e.vguid.toUpperCase()||"").replace(/{|}/gi,""):m.eVar50="NA",m.eVar52="event31"===t?e.position:"",e.evar24?m.eVar24=e.evar24:m.eVar24="",e.evar61?m.eVar61=e.evar61:m.eVar61="",gcc.isDealBoxHeader&&(e.evar61="",gcc.isDealBoxHeader=!1),(e.evar24||e.evar61)&&"destcmp:mdl_videoplayer"!=e.evar61&&e.evar61.indexOf("destmbym")<0&&"prmaincar"!==e.evar61&&(e.tripBrand="NA"),e.evar82?m.eVar82=e.evar82:m.eVar82="",e.evar83?m.eVar83=e.evar83:m.eVar83="",m.eVar27=e.tripCode&&0<e.tripCode.length?e.tripCode:gcc.trip&&gcc.trip.code?gcc.trip.code.toUpperCase():"NA",m.eVar28=e.tripYear&&0<e.tripYear.length?e.tripYear:gcc.trip&&gcc.trip.year?gcc.trip.year:"-100",m.eVar29=e.tripBrand&&"NA"!=e.tripBrand?e.tripBrand:gcc.trip&&gcc.trip.brand&&"NA"!=gcc.trip.brand?gcc.trip.brand.toUpperCase():gcc.brand&&"NA"!=gcc.brand?gcc.brand.toUpperCase():"NA",m.eVar53=e.evar53,m.prop23=m.eVar53,m.eVar55=e.evar55,m.eVar71=e.evar71,"event17"!=i&&"event53"!=i||gcc&&gcc.trip&&gcc.trip.videogallery&&(e.evar82=gcc.trip.videogallery.SliderPersonalizationRule,m.eVar82=e.evar82),("event17"==i||"event28"==i||"event18"==i||0<=i.indexOf("event16"))&&""==e.evar61&&gcc&&gcc.trip&&gcc.trip.videogallery&&(e.evar61=gcc.trip.videogallery.componentDescription,m.eVar61=e.evar61),"hp-reelearth-comp"===e.evar61&&(e.evar76=!gcc.profile.anonymous&&void 0!==gcc.profile.TopTpc&&gcc.profile.TopTpc?gcc.profile.TopTpc:"",m.eVar76=e.evar76);var n,o,c=function(e){return"undefined"!==gcc&&gcc.hasOwnProperty(e)};if(c("populateEvar76")&&gcc.populateEvar76){var s=!gcc.profile.anonymous&&void 0!==gcc.profile.TopTpc&&gcc.profile.TopTpc?gcc.profile.TopTpc.replaceAll(",",":"):"";m.eVar46=s,m.eVar76=s}if(c("populateEvar12")&&(m.eVar12=gcc.populateEvar12),c("populateEvar15")&&(m.eVar15=gcc.populateEvar15),c("populateEvar82")&&(m.eVar82=gcc.populateEvar82),c("populateEvar83")&&(m.eVar83=gcc.populateEvar83),c("populateEvar61")&&(m.eVar61=gcc.populateEvar61),gcc.D2dItnVideo&&"prmaincar"!=e.evar61)for(var l=0;l<=gcc.TripVideos.length-1;l++)if(gcc.TripVideos[l].guid==e.vguid.toUpperCase()&&"prmaincar"!=gcc.TripVideos[l].impDesc){e.evar61=gcc.TripVideos[l].impDesc,m.eVar61=e.evar61;break}if(m.tl(!0,"o",a),m.eVar83="",n=m.events,o=m.eVar53,$.ajax({type:"POST",data:{events:n,videoName:o},url:"/api/sitecore/Analytics/RegisterVideoEventInXdb",error:function(e){console.log("xDBVideoTrack ERROR "+e.status+": "+e.statusText)}}),!0===r){var d=gcc.autoPlayLoadedRecommendedVideo;gcc.autoPlayLoadedRecommendedVideo="",m.events="event55",m.eVar50=d.guid,m.eVar53=d.videoName,m.eVar55=d.videoType,m.eVar61=d.componentDescription,m.eVar27=gcc.trip.code.toUpperCase(),m.eVar28=gcc.trip.year,m.eVar29=gcc.trip.brand.toUpperCase(),m.eVar82=d.personalization,m.eVar83=d.contentViewed,m.t()}var u={eventValue:i,videoName:e.evar53,videoType:e.evar55,tripCode:e.tripCode,tripYear:e.tripYear};y.log(v(t),u);var p="<div class='{0}' data-event-value='{1}' data-video-name='{2}' data-video-type='{3}' data-trip-code='{4}' data-trip-year='{5}'></div>";p=(p=(p=(p=(p=(p=p.replace("{0}",v(t))).replace("{1}",i)).replace("{2}",e.evar53)).replace("{3}",e.evar55)).replace("{4}",e.tripCode)).replace("{5}",e.tripYear);var g=$("#gccseleniumtest");if(g)g.append(p);else{var f="<div id='gccseleniumtest'>"+p+"</div>";$("body".append(f))}}},trackCustomLink:function(e,t,i,a,r){i||(i="o");m.linkTrackVars="prop1,prop2,prop3,prop4,prop5,prop20,prop21,prop22,prop25,prop60,prop61,prop64,prop65,prop66,eVar1,eVar2,eVar3,eVar4,eVar5,eVar6,eVar10,eVar16,eVar25,eVar26,eVar58,eVar61,eVar64,eVar27,eVar28,eVar29,eVar60,eVar43,eVar47",m.linkTrackEvents="event29",m.pev1=encodeURIComponent(e.context.href),m.events="",m.eVar43="",m.eVar25&&"0"==m.eVar25&&(m.eVar25="",m.prop25="");var n;m.eVar10=a,e&&e.context&&e.context.attributes&&(n=e.context.attributes,n.getNamedItem("gcc-link-tracker").value);if(n){var o=n.getNamedItem("data-tripcode"),c=n.getNamedItem("data-tripyear"),s=n.getNamedItem("data-tripbrand");m.eVar27=o&&"string"==typeof o.value?o.value.toLowerCase():"",m.eVar28=c&&c.value?c.value:"",m.eVar29=s&&"string"==typeof s.value?s.value.toLowerCase():"",m.prop20=m.eVar27,m.prop21=m.eVar28,m.prop22=m.eVar29}if("click-paginator-items-per-page"===t)m.refreshPageUrl(),m.events="event29",m.eVar43="Trip Search:PgLvl:Items per page:"+e.context.textContent;else if("click-aggregations-show-more-less"===t){if("more"!==n.getNamedItem("data-more-less").value)return;m.refreshPageUrl(),m.events="event29",m.eVar43="Trip Search:PgLvl:Show More:"+n.getNamedItem("data-aggregation").value}else if("click-aggregations-clear-filters"===t)m.refreshPageUrl(),m.events="event29",m.eVar43="Trip Search:PgLvl:Clear filters:"+n.getNamedItem("data-filters").value;else if("click-tripsearch-map-open"===t)m.refreshPageUrl(),m.events="event29",m.eVar43="Trip Search:"+n.getNamedItem("data-trip-code").value.toLowerCase()+":map open";else if("click-departures-show-more-less"===t){if("more"!==n.getNamedItem("data-more-less").value)return void $(r).attr("data-more-less","more");m.refreshPageUrl(),m.events="event29",m.eVar43="Trip Search:"+n.getNamedItem("data-trip-code").value.toLowerCase()+":Show More Departures",$(r).attr("data-more-less","less")}else if("click-send-trip-summary-dp-summary-modal"===t)m.refreshPageUrl(),m.events="event29",m.eVar43=n.getNamedItem("data-tripcode").value.toUpperCase()+":"+n.getNamedItem("data-tripyear").value+":dandp:tripsummary:send",m.eVar47=n.getNamedItem("data-dnpcampaignid").value;else if("macbtn_view air itinerary"===t){var o=n.getNamedItem("data-trip-code"),c=n.getNamedItem("data-trip-year"),s=n.getNamedItem("data-trip-brand"),l=n.getNamedItem("data-reservation-id");m.eVar27=o&&"string"==typeof o.value?o.value.toLowerCase():"",m.eVar28=c&&c.value?c.value:"",m.eVar29=s&&"string"==typeof s.value?s.value.toLowerCase():"",m.eVar10=l&&"string"==typeof l.value?l.value.toLowerCase():""}else"more_trip_info"===t&&(gcc.TpgOptOutModelDesc=void 0,gcc.TpgModalLinkValue=t);m.tl(e,i,t)},trackRule:function(t){a.getAnalyticsCloud().then(function(e){!function(e){0!=e.customerNumber&&""!=e.customerNumber||(e.customerNumber=gcc.profile.cn);var t={eventValue:e.rule,customerNumber:e.customerNumber,browseType:e.formName,tripCode:e.tripCode,tripYear:e.tripYear};y.log(e.rule,t)}(t),e.track(t)},function(e){throw new Error("CloudService.getAnalyticsCloud: An error occured:"+e)},function(e){console.warn(e)})},trackSocial:function(e){c({eVar19:e.linkName},!0,e.analyticsEvent,e.analyticsEvent,e.linkType,e.linkValue)},trackRating:function(e){e.eVar25=gcc.profile.CustomerNumber?gcc.profile.CustomerNumber:"",e.eVar35=e.eVar25,e.eVar27=gcc.trip.code&&0<gcc.trip.code.length?gcc.trip.code:"NA",e.eVar28=gcc.trip.year&&0<gcc.trip.year.length?gcc.trip.year:"-100",e.eVar29=gcc.trip.brand,e.eVar71="tprting:"+e.action,e.eVar78=e.tip.tipGuid.toUpperCase();var t="event62";c(e,!0,t,t,"o",e.tip.analyticsTipName)}};return n;function c(e,t,i,a,r,n){for(var o in m.linkTrackVars="prop1,prop2,prop3,prop4,prop5,prop18,prop19,prop20,prop21,prop22,prop23,prop25,prop61,prop64,prop65,eVar1,eVar2,eVar3,eVar4,eVar5,eVar6,eVar16,eVar17,eVar19,eVar20,eVar21,eVar22,eVar23,eVar26,eVar25,eVar27,eVar28,eVar29,eVar35,eVar50,eVar52,eVar53,eVar54,eVar55,eVar56,eVar58,eVar71,eVar61,eVar78,eVar82,eVar83,eVar76,events",m.linkTrackEvents=i,m.events=a,e)m[o]=e[o];m.tl(t,r,n)}}]).directive("gccAnalyticsRule",["GccAnalyticsPageProvider","GccAnalyticsConfig",function(a,r){var e;return{scope:(e={rule:"@gccAnalyticsRule",formName:"@",customerNumber:"@",lookupStatus:"@",brand:"@",tripCode:"@",tripName:"@",tripBrand:"@",tripYear:"@",tripSequence:"@",timerInMin:"@",recognitionStatus:"@",componentName:"@",componentAction:"@",componentHasDesc:"@",reservationId:"@",auditName:"@",auditValue:"@",actionName:"@",actionValue:"@",tripList:"@",linkType:"@",linkValue:"@",linkName:"@",linkDestination:"@",searchInitiatedFrom:"@",searchInitiatedBy:"@",previousSearchParams:"@",videoGuid:"@",videoName:"@",videoType:"@",clickThruId:"@",linkTracker:"@"},_defineProperty(e,"reservationId","@"),_defineProperty(e,"analyticsHandler","@"),_defineProperty(e,"analyticsEvent","@"),_defineProperty(e,"country","@"),_defineProperty(e,"componentDesc","@"),e),link:function(s,n,o){var e="True"===gcc.featureFlags.event29;if("Tpc1minGeneric"===s.rule){if(gcc=gcc||{},gcc.trip=gcc.trip||{},gcc.trip.tpcTimerAlreadyStarted=gcc.trip.tpcTimerAlreadyStarted||!1,gcc.trip.tpcTimerAlreadyStarted)return;gcc.trip.tpcTimerAlreadyStarted=!0;var t=1*s.timerInMin;setTimeout(function(){s.trackRule(s)},6e4*t)}else if("trackEventAsPageView"===s.rule)n.is("a")&&(n.unbind("click.analytics",s.trackAsPageView),n.bind("click.analytics",s.trackAsPageView));else if("trackLinkPageView"===s.rule)n.bind("click.analytics",function(){s.rule="trackEventAsPageView",o.gccAnalyticsRule="trackEventAsPageView";for(var e=gcc.page.pageName.split(":");4<e.length;)e.pop();e.push(s.linkDestination),gcc.page.virtualPageName=e.join(":"),"more_trip_info"!==s.linkValue&&(s.virtual=!0),s.trackAsPageView(),n.attr("gcc-link-tracker",s.linkTracker);var t=$(event.currentTarget).find("a"),i=s.linkValue?s.linkValue.toLowerCase():"none",a=-1<s.linkTracker.indexOf("download")?"d":"o",r=s.reservationId;s.analyze(t,i,a,r)});else if("ComponentClick"===s.rule){if(n.is("a")||n.is("div")||n.is("label")||n.is("button")){if(e)return;(s.domElement=n).bind("click.analytics",s.trackRule)}}else if("CustomClick"===s.rule){if(n.is("a")||n.is("div")||n.is("label")||n.is("button")){if(e)return;(s.domElement=n).bind("click.analytics",s.trackRule)}}else if("MenuItemClick"===s.rule||"TargetPageEvent"===s.rule){if(n.is("a")||n.is("div")||n.is("label")||n.is("button")){if(e)return;(s.domElement=n).on("click.analytics",function(){var e=r.customActions.closeNavigation,t=r.eventTypes.click,i=[];n.hasClass("global-menu-tab")&&!n.hasClass("is-active")&&i.push(e),a.getPageProvider().sendPageEvent({eventType:t,customActions:i,data:{linkUrl:s.domElement[0].href,linkValue:o.linkValue,componentName:o.menuTitle,customClickDescription:o.componentName}})}),n.hasClass("nav__autoevent--bind")}}else if("EnhancedComponentClick"===s.rule)(n.is("a")||n.is("div"))&&(s.domElement=n).bind("click.analytics",s.trackRule);else if("ClickThru"===s.rule)s.domElement=n,s.trackRule(s);else if("Link"===s.rule)s.domElement=n,s.action="prepare",s.trackRule(s),s.isAjax=function(){var e=n[0].pathname.split("/");e[e.length-1];return!!n.attr("class").match(/trip-primary-menu|js-submenu-link|trip-sub-menu|trip-link/)};else if("Tab"===s.rule)s.rule="Link",o.gccAnalyticsRule="Link",(s.domElement=n).hasClass("js-select-droplink")&&(s.suffix="dd"),(n.hasClass("js-tab-link")||n.hasClass("js-year-tab"))&&(s.suffix="tab"),s.icid=gcc.page.pageName.split(":")[5]+s.suffix+"_"+n.attr("id"),s.action="prepare",s.trackRule(s),n.bind("click.analytics",function(e){void 0!==e.originalEvent&&(s.clickHandlerEvent=e,s.clickHandler=function(e){"function"==typeof updateDropdownsTabs&&updateDropdownsTabs($(e.target));var t,i,a,r,n,o=e.currentTarget.innerText,c=(t=window.location.href,i="icid",a=this.icid,r=new RegExp("([?&])"+i+"=.*?(&|$)","i"),n=-1!==t.indexOf("?")?"&":"?",t.match(r)?t.replace(r,"$1"+i+"="+a+"$2"):t+n+i+"="+a);window.history.pushState({},o,c),s.trackRuleParametrized({rule:"PageView"})},s.action="execute",s.trackRule(s))}),$(n).removeAttr("gcc-analytics-rule");else if("PageView"===s.rule)"function"==typeof updateDropdownsTabs&&updateDropdownsTabs(),s.trackRule(s),$(n).remove();else if("generic"===s.rule)n.bind("click.analytics",function(e){s.trackGeneric(s.analyticsHandler)}),$(n).removeAttr("gcc-analytics-rule");else if("InterestBrowse"===s.rule){t=1*s.timerInMin;setTimeout(function(){s.trackRule(s)},6e4*t)}else"SweepstakesRegisterConfirmation"===s.rule?s.trackRule(s):(s.trackRule(s),$(n).remove())},controller:"GccAnalyticsController"}}]).controller("GccAnalyticsController",["$scope","GccAnalyticsService",function(t,r){t.trackRule=function(){r.trackRule(t)},t.trackAsPageView=function(){r.trackRule(t)},t.trackGeneric=function(e){r[e](t)},t.trackRuleParametrized=function(e){r.trackRule(e)},t.analyze=function(e,t,i,a){r.trackCustomLink(e,t,i,a)}}])}),define("AnalyticsProvider/AnalyticsMediator",[],function(){return function(){function e(){_classCallCheck(this,e),this.debug=!0,this.eventHandlers=[]}return _createClass(e,[{key:"registerEventHandler",value:function(t){-1===this.eventHandlers.findIndex(function(e){return e.name===t.name})&&this.eventHandlers.push(t)}},{key:"reportAllAnalytics",value:function(t){this.eventHandlers.forEach(function(e){return e.reportAnalytic(t)})}}]),e}()}),define("AnalyticsProvider/configs",[],function(){return{eventTypes:{trackTimeViewed:"TRACK_TIME_VIEWED",click:"CLICK"},customActions:{closeNavigation:"CLOSE_NAVIGATION",redirectAfterAnalytics:"REDIRECT_AFTER_ANALYTICS"}}}),define("AnalyticsProvider/Logger",[],function(){var r={None:0,Debug:1,Info:2,Warn:3,Error:4},i=function(){function a(e,t,i){_classCallCheck(this,a),this.level=e||r.Debug,this.prefix=t?t.trim():"",this.messageFormat=i||"{{prefix}} {{timestamp}} {{level}} {{message}} \n{{data}}"}return _createClass(a,[{key:"format",value:function(e,t,i,a){if(!e)return"";switch(e instanceof Error||i instanceof Error?t=r.Error:t||(t=r.Info),t){case r.Debug:t="[DEBUG]";break;case r.Info:t="[INFO]";break;case r.Warn:t="[WARN]";break;case r.Error:t="[ERROR]"}return this.messageFormat.replace("{{prefix}}",this.prefix).replace("{{timestamp}}",(new Date).toISOString()).replace("{{level}}",t).replace("{{message}}",e instanceof Object&&!(e instanceof Error)?JSON.stringify(e,null,2):e+"").replace("{{data}}",i?i instanceof Object&&!(i instanceof Error)?JSON.stringify(i,null,2):i+"":"").replace("{{context}}",a?a instanceof Object&&!(a instanceof Error)?JSON.stringify(a,null,2):a+"":"")}},{key:"validateMessageLevel",value:function(e,t,i){return e&&t&&"number"==typeof t?e instanceof Error||i instanceof Error?r.Error:t>=r.Debug&&t<=r.Error?t:r.None:r.None}}]),a}(),e=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,i),_createClass(t,[{key:"log",value:function(e,t,i,a){if((t=this.validateMessageLevel(e,t,i))<this.level)return"";e=this.format(e,t,i,a),t==r.Error?console.error(e):t==r.Warn?console.warn(e):console.log(e)}}]),t}();return function(){function t(){_classCallCheck(this,t),this.logHandlers=[],this.hadHandlingError=!1}return _createClass(t,[{key:"addLogHandler",value:function(e){e&&e instanceof i&&this.logHandlers.push(e)}},{key:"sendToHandlers",value:function(e,t,i,a){for(var r,n=0,o=this.logHandlers.length;n<o;n++){r=this.logHandlers[n];try{r.log(e,t,i,a)}catch(e){this.hadHandlingError||(this.hadHandlingError=!0,console.error("Error in "+r.constructor.name+": "+e))}}}},{key:"debug",value:function(e,t,i){this.sendToHandlers(e,r.Debug,t,i)}},{key:"info",value:function(e,t,i){this.sendToHandlers(e,r.Info,t,i)}},{key:"warn",value:function(e,t,i){this.sendToHandlers(e,r.Warn,t,i)}},{key:"error",value:function(e,t,i){this.sendToHandlers(e,r.Error,t,i)}}],[{key:"getDefaultLogger",value:function(){return t.defaultLogger||(t.defaultLogger=new t(r.Debug)).addLogHandler(new e(r.Debug,"GCC> ")),t.defaultLogger}},{key:"debug",value:function(e){t.getDefaultLogger().debug(e)}},{key:"log",value:function(e){t.getDefaultLogger().debug(e)}},{key:"info",value:function(e){t.getDefaultLogger().info(e)}},{key:"warn",value:function(e){t.getDefaultLogger().warn(e)}},{key:"error",value:function(e){t.getDefaultLogger().error(e)}}]),t}()}),define("AnalyticsProvider/helpers",["AnalyticsProvider/configs"],function(o){return{getCustomClickDescription:function(e){var t=e.data,i=e.customActions,a=void 0===i?[]:i,r=o.customActions.closeNavigation,n=c(t,"customClickDescription");return-1===a.indexOf(r)?n:n.replace(/open$/,"close")},getCustomerNumber:function(){var e=gcc.profile&&gcc.profile.cn?gcc.profile.cn:"";return"anonymous"!==e&&"undefined"!==e?e:""},getVideoData:function(t){return gcc.trip.videogallery.videos.find(function(e){return e.vguid.toUpperCase()===t.toUpperCase()})},getProfileVal:t,getDaysSinceLastDeparture:function(){var e=t("LastTravelDate");if(e.length)return i(e);return""},daysSince:i,_get:c,getPreviousValue:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=JSON.parse(localStorage.getItem("omniture_page_history")),a=c(e,"GccAnalyticsFactory"),r=a&&t.evarCall,n=!i||i.url===window.location.href;r&&(a.events=a.apl(a.events,"event6",",",2),n?localStorage.setItem("omniture_page_history",JSON.stringify({previousValue:a.getPreviousValue(a.pageName,"gpv_pn","event6"),url:window.location.href})):localStorage.setItem("omniture_page_history",JSON.stringify({previousValue:i.previousValue,url:window.location.href})),i=JSON.parse(localStorage.getItem("omniture_page_history")));return i.previousValue},getDestinationCountryName:function(e){var t=$(document).find(".js-nav-sibling-control.global-menu-tab.is-active");if(null!=t&&0<t.length&&-1<e.pageName.indexOf(gcc.destinationCountry))return gcc.destinationCountry}};function t(e,t){var i=t||"";return!gcc.profile||gcc.profile.anonymous?i:gcc.profile[e]||i}function i(e){var t=new Date,i=new Date(e);return"Invalid Date"===i.toString()?"Invalid Date":i<t?Math.floor((t-i)/1e3/60/60/24):"Time Travel"}function c(e,t,i){var a=!e||!t,r="object"!==_typeof(e)||null===e||"string"!=typeof t;if(a||r)return i;for(var n=t.trim().split("."),o=e,c=0,s=n.length;c<s;c++){var l=n[c];if(!(o[l]&&"object"===_typeof(o[l]))){o=o[l];break}o=o[l]}return o||i}}),define("AnalyticsProvider/Omniture/payloads/event29",["AnalyticsProvider/helpers"],function(e){var t=e._get;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{eventName:"event29",eVars:["siteSection1","siteSection2","siteSection3","siteSection4","siteSection5","siteSection6","previousPage","recencyDetail","frequencyDetail","travelStatus","bookingStatus","customerNumber","loggedInStatus","customerNumberOFC","daysSinceLastDeparture","lastDepartureProduct","lastBrandTravelled","daysToNextDeparture","customClickDescription","profileTopTpc","segmentationReferenceYear","visitorRecognition","domain","componentName","pageName","tripName","tripYear","tripBrand","destinationCountryName"],props:["siteSection1","siteSection2","siteSection3","siteSection4","siteSection5","siteSection6","previousPage","bookingStatus","travelStatus","customerNumber","domain","aspSessionId","pageName","pageUrl","queryString","tripName","tripYear","tripBrand","newAnalyticFlag","destinationCountryName"],linkTrackVars:["events","eVar1","eVar2","eVar3","eVar4","eVar5","eVar6","eVar11","eVar24","eVar26","eVar43","eVar58","eVar60","eVar61","eVar64","prop1","prop2","prop3","prop4","prop5","prop6","prop11","prop18","prop19","prop23","prop24","prop25","prop60","prop61","prop64","prop65","prop66","prop70"].join(","),linkTrackVarsAuthenticated:["eVar13","eVar14","eVar22","eVar23","eVar25","eVar35","eVar38","eVar39","eVar40","eVar41","eVar46","eVar51"].join(","),linkTrackVarsProductPage:["eVar27","eVar28","eVar29","prop20","prop21","prop22"].join(","),linkTrackEvents:["event29"].join(","),linkName:t(e,"data.linkName")||t(e,"data.linkValue",""),linkType:"o",linkUrl:t(e,"data.linkUrl",window.location.origin+window.location.pathname)}}}),define("AnalyticsProvider/Omniture/payloads/main",["AnalyticsProvider/Omniture/payloads/event29"],function(t){return function(e){return{event29Payload:t(e)}}}),define("AnalyticsProvider/Omniture/OmniturePayloadData",["AnalyticsProvider/Logger","AnalyticsProvider/helpers","AnalyticsProvider/Omniture/payloads/main"],function(n,e,t){var c,s=e._get,l=e.getProfileVal,d=e.getCustomerNumber,u=e.getDaysSinceLastDeparture,o=e.getVideoData,p=e.getCustomClickDescription,g=e.getDestinationCountryName;return{getEventData:function(e){var t=s(e,"GccAnalyticsFactory",{getPreviousValue:function(){}}),i=_slicedToArray(s(t,"pageName","").split(":").slice(1),6),a=i[0],r=i[1],n=i[2],o=i[3];return{siteSection1:{eVar:"eVar1",prop:"prop1",value:a},siteSection2:{eVar:"eVar2",prop:"prop2",value:r},siteSection3:{eVar:"eVar3",prop:"prop3",value:n},siteSection4:{eVar:"eVar4",prop:"prop4",value:o},siteSection5:{eVar:"eVar5",prop:"prop5",value:i[4]},siteSection6:{eVar:"eVar6",prop:"prop6",value:i[5]},previousPage:{eVar:"eVar11",prop:"prop11",value:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).evarCall&&(t.events=t.apl(t.events,"event6",",",2),c=t.getPreviousValue(t.pageName,"gpv_pn","event6")),c}},recencyDetail:{eVar:"eVar13",prop:"",value:l("Recency")},frequencyDetail:{eVar:"eVar14",prop:"",value:l("FrequencyDetail")},bookingStatus:{eVar:"eVar22",prop:"prop18",value:l("BookingStatus")},travelStatus:{eVar:"eVar23",prop:"prop19",value:l("TravelStatus")},customerNumber:{eVar:"eVar25",prop:"prop25",value:d()},loggedInStatus:{eVar:"eVar26",prop:"",value:l("loggedin","unrec")},tripName:{eVar:"eVar27",prop:"prop20",value:(gcc.trip&&n||"NA").toUpperCase()},tripYear:{eVar:"eVar28",prop:"prop21",value:(gcc.trip&&o||"-100").toUpperCase()},customerNumberOFC:{eVar:"eVar35",value:d()},daysSinceLastDeparture:{eVar:"eVar38",prop:"",value:u()},lastDepartureProduct:{eVar:"eVar39",prop:"",value:l("LastDepartureProduct")},lastBrandTravelled:{eVar:"eVar40",prop:"",value:l("LastBrandTravelled")},daysToNextDeparture:{eVar:"eVar41",prop:"",value:l("DaysToNextDeparture")},customClickDescription:{eVar:"eVar43",prop:"",value:p(e)},profileTopTpc:{eVar:"eVar46",prop:"",value:gcc.hpCustomerTpc},segmentationReferenceYear:{eVar:"eVar51",prop:"",value:l("SegmentationReferenceYear")},visitorRecognition:{eVar:"eVar58",prop:"",value:d().length?"recognized":"unrecognized"},domain:{eVar:"eVar60",prop:"prop60",value:window.location.hostname},componentName:{eVar:"eVar61",prop:"",value:s(e,"data.componentName")},tripBrand:{eVar:"eVar29",prop:"prop22",value:(gcc.trip&&n&&o&&r||"NA").toUpperCase()},pageName:{eVar:"eVar64",prop:"prop64",value:"D=pageName"},aspSessionId:{prop:"prop61",value:gcc.aspnetsessionid?gcc.aspnetsessionid:""},pageUrl:{prop:"prop65",value:window.location.protocol+"//"+window.location.hostname},queryString:{prop:"prop66",value:window.location.search.slice(1)},serverName:{prop:"prop68"},realPageViewFlag:{prop:"prop69"},newAnalyticFlag:{eVar:"",prop:"prop70",value:"New Analytics"},destinationCountryName:{eVar:"eVar24",prop:"prop24",value:g(t)}}},eventPayloadData:t,getVideoEventData:function(e){var t=e.scope;if(t){var i=o(t.guid),a=i.analyticsVideoName,r=i.analyticsVideoType;return{videoGuid:{eVar:"eVar50",value:t.guid},videoName:{eVar:"eVar53",value:a},videoType:{eVar:"eVar55",value:r}}}n.log(new Error("getVideoEventData: Scope is not defined."))}}}),define("AnalyticsProvider/Omniture/OmnitureEventHandler",["AnalyticsProvider/configs","AnalyticsProvider/Omniture/OmniturePayloadData","AnalyticsProvider/Logger"],function(p,g,f){return function(){function t(e){_classCallCheck(this,t),this.GccAnalyticsFactory=e}return _createClass(t,[{key:"reportData",value:function(o,e){var c=this,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},i=!gcc.profile.anonymous,a="trips"===o.siteSection1.value,r=e.linkType,n=e.linkName,s=e.linkUrl,l=e.linkTrackVarsAuthenticated,d=e.linkTrackVarsProductPage,u=e.linkTrackVars,p=e.eVars,g=e.props,f=e.linkTrackEvents,v=e.eventName;this.GccAnalyticsFactory.clearVars(),this.GccAnalyticsFactory.linkTrackVars=u,this.GccAnalyticsFactory.linkTrackVars+=i?",".concat(l):"",this.GccAnalyticsFactory.linkTrackVars+=a?",".concat(d):"",this.GccAnalyticsFactory.linkTrackEvents=f,this.GccAnalyticsFactory.events=v,this.GccAnalyticsFactory.linkURL=s,p.forEach(function(e){var t=o[e],i=t.eVar,a=t.value,r=i,n="function"==typeof a?a({evarCall:!0}):a;c.GccAnalyticsFactory[r]=n}),g.forEach(function(e){var t=o[e],i=t.prop,a=t.value,r=i,n="function"==typeof a?a({}):a;c.GccAnalyticsFactory[r]=n}),this.GccAnalyticsFactory.tl(!0,r,n),t()}},{key:"redirectAfterAnalyticSent",value:function(e,t){var i=e.redirectLink,a=p.customActions.redirectAfterAnalytics;i&&-1!==t.indexOf(a)&&(window.location.href=i)}},{key:"reportAnalytic",value:function(e){var t=e.eventType,i=e.GccAnalyticsFactory,a=e.data,r=void 0===a?{}:a,n=e.customActions,o=g.getEventData,c=g.eventPayloadData,s=g.getVideoEventData,l=p.eventTypes,d=l.trackTimeViewed,u=l.click;switch(t){case d:this.reportData(Object.assign(o(),s(e)),c(e).event16Payload);break;case u:this.reportData(o({GccAnalyticsFactory:i,data:r,customActions:n}),c(e).event29Payload,this.redirectAfterAnalyticSent.bind(this,r,n));break;default:f.log(new Error("reportToOmniture: eventType "+t+" was not found."))}}}]),t}()}),define("AnalyticsProvider/Providers/VideoJsProvider",["AnalyticsProvider/configs","AnalyticsProvider/Logger"],function(e,n){var i=e.eventTypes;return function(){function r(e,t,i,a){_classCallCheck(this,r),e||n.log("VideoJsProvider: videoId was not provided to the constructor."),this.videoId=e,this.videoOptions=t||{techOrder:["html5"]},this.vjs=i,this.Mediator=a}return _createClass(r,[{key:"getVideoJs",value:function(){var e=this;return new Promise(function(t,i){e.vjs.getVjs().then(function(e){return t(e)}).catch(function(e){n.log(new Error("getVideoJs: Error with retrieving VideoJS: "+e)),i(!1)})})}},{key:"setVideoAnalytic",value:function(e){var t=i.trackTimeViewed;e&&e.eventType?e.eventType!==t?this.Mediator.reportAllAnalytics(e):this.trackTimeViewed(e):n.log(new Error("setVideoAnalytic: analyticEvent is not properly defined."))}},{key:"trackTimeViewed",value:function(r){var n=this,o=!1;this.getVideoJs().then(function(e){var i=e(n.videoId,n.videoOptions),a=0;i.on("timeupdate",function(){var e=Math.floor(i.currentTime()),t=0===e%60&&0!==e;t&&!o&&(a=e/60,o=!0,r.intervalsHit=a,n.Mediator.reportAllAnalytics(r)),t||(o=!1)}),i.on("ended",function(){i.off("timeupdate")})})}}]),r}()}),define("AnalyticsProvider/Providers/PageProvider",[],function(){return function(){function t(e){_classCallCheck(this,t),this.Mediator=e,this._GccAnalyticsFactory}return _createClass(t,[{key:"sendPageEvent",value:function(e){this.Mediator.reportAllAnalytics(Object.assign(e,{GccAnalyticsFactory:this._GccAnalyticsFactory}))}},{key:"GccAnalyticsFactory",set:function(e){this._GccAnalyticsFactory=e}}]),t}()}),define("AnalyticsProvider/AnalyticsAdapter",["AnalyticsProvider/AnalyticsMediator","AnalyticsProvider/Omniture/OmnitureEventHandler","AnalyticsProvider/Providers/VideoJsProvider","AnalyticsProvider/Providers/PageProvider","AnalyticsProvider/configs"],function(e,t,r,i,a){var n=angular.module("analyticsProvider",["gccVideos","bc.player","gccAnalytics"]),o=new e,c=new i(o);n.service("GccRegisterEventHandlers",["GccAnalyticsFactory",function(e){return function(){o.registerEventHandler(new t(e))}}]),n.factory("GccVideoJsProvider",["vjs","GccAnalyticsFactory","GccRegisterEventHandlers",function(i,a,e){return e(),{getVideoProvider:function(e,t){return new r(e,t,i,o,a)},Mediator:o}}]),n.factory("GccAnalyticsPageProvider",["GccAnalyticsFactory","GccRegisterEventHandlers",function(e,t){return t(),{getPageProvider:function(){return c.GccAnalyticsFactory=e,c}}}]),n.factory("GccAnalyticsConfig",[function(){return a}])}),require([],function(){angular.module("gccCookieJar",[]).provider("GccCookieJar",function(){var e=jQuery.cookie;function t(t){this.put=function(e){return t(e.name,e.value,{expires:e.expires||365,path:e.path||"/"})},this.get=function(e){return t(e)},this.toss=function(e){return t.toss(e,{path:"/"})}}e.toss=jQuery.removeCookie,this.$get=[function(){return new t(e)}]})}),define("Angular/components/GccCookieJarAngular",function(){}),require([],function(){angular.module("cookieJar",[]).factory("$cookieJar",function(){var e={get:function(e){return $.cookie(e)},put:function(e,t,i){$.cookie(e,t,i)}};return e})}),define("Angular/components/cookieJar",function(){}),require([],function(){angular.module("cloud",[]).service("CloudService",["$q","$interval",function(r,n){return{getAnalyticsCloud:function(e){var t=r.defer(),i=1e4,a=n(function(){i-=100,window.gcc&&window.gcc.cloud&&window.gcc.cloud.analytics&&(n.cancel(a),t.resolve(window.gcc.cloud.analytics)),i||(n.cancel(a),t.reject("cloud evaprouated"))},100);return t.promise}}}])}),define("Angular/components/cloud",function(){}),require([],function(){angular.module("captain",[]).service("$captain",[function(){var e={absUrl:function(){return window.location},search:function(){return window.location.search},hash:function(){return window.location.hash},path:function(){return window.location.pathname}};return e}])}),define("Angular/components/captain",function(){}),require([],function(){angular.module("pbm",[]).factory("$pbm",["$q","$interval",function(e,t){var i=240,a=e.defer(),r=t(function(){i--,a.notify("Checking for pbm..."),gcc.pbm&&(a.resolve(gcc.pbm),t.cancel(r)),i||(a.reject("Timeout: PBM is not available."),t.cancel(r))},25);return a.promise}])}),define("Angular/components/pbm",function(){}),require([],function(){angular.module("gccLinkTracking",[]).directive("gccLinkTracker",[function(){return{scope:{gccLinkTracker:"@",reservationId:"@"},link:function(n,o,e){o.is("a")||o.is("div")?o.bind("click",function(e){var t=$(e.currentTarget).find("a"),i=n.gccLinkTracker?n.gccLinkTracker.toLowerCase():"none",a=-1<i.indexOf("download")?"d":"o",r=n.reservationId;n.analyze(t,"click-"+i,a,r,o)}):o.is("form")&&o.bind("submit",function(e){var t=n.gccLinkTracker?n.gccLinkTracker.toLowerCase():"none",i=-1<t.indexOf("download")?"d":"o",a=n.reservationId;n.analyze(o,"click-"+t,i,a,o)})},controller:"GccLinkTrackingController"}}]).controller("GccLinkTrackingController",["$scope","GccAnalyticsService",function(e,n){e.analyze=function(e,t,i,a,r){n.trackCustomLink(e,t,i,a,r)}}])}),define("Angular/components/linkTracking",function(){}),angular.module("gccTips",["gccAnalytics"]).factory("gccTipRatingService",["$q","$http","GccAnalyticsService",function(c,s,l){var d="/tips";function u(e){return gcc.settings.tips.travelTips[e]}function p(e,t){var i=u(e);i&&t&&(t.find(".like-count").text(i.likeCount),t.find(".dislike-count").text(i.dislikeCount),t.find(".like-icon, .dislike-icon").removeClass("active"),1===i.rating&&t.find(".like-icon").addClass("active"),-1===i.rating&&t.find(".dislike-icon").addClass("active"))}var g=!1;return{refreshRatingDisplay:p,clickhandler:function(e,t,i){if(!g){g=!0;var a,r,n=u(t),o="";switch(e){case"like":switch(n.rating){case 1:n.likeCount--,n.rating=0,o="del_like";break;case-1:n.dislikeCount--,n.likeCount++,n.rating=1,o="ch2_like";break;default:n.likeCount++,n.rating=1,o="add_like"}break;case"dislike":switch(n.rating){case-1:n.dislikeCount--,n.rating=0,o="del_dislike";break;case 1:n.likeCount--,n.dislikeCount++,n.rating=-1,o="ch2_dislike";break;default:n.dislikeCount++,n.rating=-1,o="add_dislike"}}p(t,i),a=n,r=c.defer(),s({method:"GET",url:d+"/rate-tip",params:{tipGuid:a.tipGuid,tripCode:gcc&&gcc.trip&&gcc.trip.code?gcc.trip.code.toLowerCase():"",tripYear:gcc&&gcc.trip&&gcc.trip.year?gcc.trip.year:"",rating:a.rating}}).then(function(e){r.resolve()}).catch(function(e){console.error('gcctipRatingService.sendRatingToBackEnd("'+a.tipGuid+'", '+a.rating+") - error in calling back-end endpoint - "+e.config.method+" "+e.config.url+" responded with status "+e.status+" "+e.statusText),r.reject("error "+e.status+" "+e.statusText)}).finally(function(){g=!1}),r.promise,l.trackRating({action:o,tip:n})}}}}]).directive("gccTipRating",["gccTipRatingService",function(a){return{scope:{TipIndex:"@gccTipRating"},link:function(t,i,e){a.refreshRatingDisplay(t.TipIndex,i),i.find(".like-icon").off("click").on("click",function(e){a.clickhandler("like",t.TipIndex,i)}),i.find(".dislike-icon").off("click").on("click",function(e){a.clickhandler("dislike",t.TipIndex,i)})}}}]),define("Resources/components/tipRating",function(){}),require(["Video/components/GccGeminiAngular","Video/components/GccVideosAngular","Video/components/BcPlayerAngular","Analytics/components/GccAnalyticsAngular","AnalyticsProvider/AnalyticsAdapter","Angular/components/GccCookieJarAngular","Angular/components/cookieJar","Angular/components/cloud","Angular/components/captain","Angular/components/pbm","Common/utils/gccAutomationLog","Angular/components/linkTracking","Resources/components/tipRating"],function(){angular.module("app",["ngSanitize","gcc.gemini","gccVideos","bc.player","gccAnalytics","cookieJar","cloud","captain","pbm","gccLinkTracking","gccTips","analyticsProvider"]).config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]),angular.element(document).ready(function(){angular.bootstrap(document.body,["app"])})}),define("Angular/init/main",function(){});